<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlashSell - AI智能选品平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --primary: #F97316;
            --primary-hover: #EA580C;
            --secondary: #3B82F6;
            --bg-dark: #0F172A;
            --bg-card: #1E293B;
            --bg-card-hover: #334155;
            --text-primary: #F8FAFC;
            --text-secondary: #94A3B8;
            --text-muted: #64748B;
            --border: #334155;
            --success: #10B981;
            --danger: #EF4444;
            --warning: #F59E0B;

            /* 玻璃拟态变量 */
            --glass-bg-dark: rgba(30, 41, 59, 0.7);
            --glass-bg-light: rgba(255, 255, 255, 0.75);
            --glass-border-dark: rgba(51, 65, 85, 0.5);
            --glass-border-light: rgba(203, 213, 225, 0.9);
            --glass-shadow-light: 0 4px 16px rgba(0, 0, 0, 0.08);

            /* 交互状态变量 */
            --hover-bg-subtle: rgba(59, 130, 246, 0.08);
            --hover-bg-subtle-light: rgba(59, 130, 246, 0.12);
            --hover-bg-medium: rgba(59, 130, 246, 0.15);

            /* 边框变量 */
            --border-subtle: rgba(51, 65, 85, 0.5);
            --border-subtle-light: rgba(203, 213, 225, 0.9);

            /* 浅色模式专用文本 */
            --text-muted-light: #64748B;
            --text-secondary-light: #475569;
        }

        /* Light Mode */
        html.light {
            --bg-dark: #F8FAFC;
            --bg-card: #FFFFFF;
            --bg-card-hover: #F1F5F9;
            --text-primary: #0F172A;
            --text-secondary: #475569;
            --text-muted: #64748B;
            --border: #E2E8F0;
        }

        html.light body {
            background: #F1F5F9;
            color: #0F172A;
        }

        html.light .aurora-bg {
            background:
                radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 60%, rgba(249, 115, 22, 0.05) 0%, transparent 40%),
                radial-gradient(ellipse 50% 30% at 20% 80%, rgba(16, 185, 129, 0.04) 0%, transparent 40%);
        }

        html.light .glass-card {
            background: var(--glass-bg-light);
            border: 1px solid var(--glass-border-light);
            box-shadow: var(--glass-shadow-light);
        }

        html.light .sidebar {
            background: rgba(255, 255, 255, 0.95);
            border-right: 1px solid var(--border-subtle-light);
        }

        html.light .nav-item {
            color: var(--text-secondary-light);
        }

        html.light .nav-item:hover {
            background: var(--hover-bg-subtle-light);
            color: #0F172A;
        }

        html.light .nav-item.active {
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.1) 0%, rgba(249, 115, 22, 0.03) 100%);
            color: var(--primary);
            border: 1px solid rgba(249, 115, 22, 0.15);
        }

        html.light .search-input {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--border-subtle-light);
            color: #0F172A;
        }

        html.light .search-input::placeholder {
            color: var(--text-muted-light);
        }

        html.light .text-white {
            color: #0F172A !important;
        }

        html.light .text-slate-300,
        html.light .text-slate-400 {
            color: var(--text-muted-light) !important;
        }

        html.light .text-slate-500 {
            color: var(--text-secondary-light) !important;
        }

        html.light .bg-slate-800\/50,
        html.light .bg-slate-800 {
            background: rgba(241, 245, 249, 0.8) !important;
        }

        html.light .bg-slate-700\/50,
        html.light .bg-slate-700 {
            background: rgba(226, 232, 240, 0.6) !important;
        }

        html.light .border-slate-700,
        html.light .border-slate-700\/50 {
            border-color: var(--border-subtle-light) !important;
        }

        html.light .border-slate-600 {
            border-color: #CBD5E1 !important;
        }

        html.light .hover\:bg-slate-700\/50:hover {
            background: rgba(226, 232, 240, 0.8) !important;
        }

        html.light .login-page {
            background: linear-gradient(135deg, #F8FAFC 0%, var(--border-subtle-light) 100%);
        }

        html.light .login-page::before {
            background: radial-gradient(ellipse 80% 50% at 50% 0%, rgba(59, 130, 246, 0.1) 0%, transparent 50%);
        }

        /* Light Mode - Glass Card Hover */
        html.light .glass-card-hover:hover {
            background: rgba(255, 255, 255, 0.95);
            border-color: var(--hover-bg-medium);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
        }

        /* Light Mode - Product Cards */
        html.light .product-card {
            background: var(--glass-bg-light);
            border: 1px solid var(--border-subtle-light);
        }

        html.light .product-card:hover {
            border-color: var(--hover-bg-medium);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        /* Light Mode - Modal & Overlay */
        html.light .modal-overlay {
            background: rgba(0, 0, 0, 0.4);
        }

        html.light .modal-content {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
        }

        /* Light Mode - Buttons */
        html.light .btn-ghost {
            color: #475569;
        }

        html.light .btn-ghost:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #0F172A;
        }

        /* Light Mode - Badges */
        html.light .badge {
            background: rgba(241, 245, 249, 0.9);
            color: #475569;
        }

        html.light .badge-hot {
            background: rgba(239, 68, 68, 0.1);
            color: #DC2626;
        }

        html.light .badge-trend {
            background: rgba(59, 130, 246, 0.1);
            color: #2563EB;
        }

        /* Light Mode - Progress Bars */
        html.light .bg-slate-700 {
            background: var(--border-subtle-light) !important;
        }

        /* Light Mode - Stat Cards */
        html.light .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.9) 100%) !important;
            border: 1px solid var(--border-subtle-light);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        html.light .stat-card::before {
            background: radial-gradient(circle, rgba(249, 115, 22, 0.05) 0%, transparent 70%);
        }

        /* Light Mode - Input Select */
        html.light select {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
            color: #0F172A;
        }

        html.light select option {
            background: #FFFFFF;
            color: #0F172A;
        }

        /* Light Mode - Scrollbar */
        html.light ::-webkit-scrollbar-track {
            background: #F1F5F9;
        }

        html.light ::-webkit-scrollbar-thumb {
            background: #CBD5E1;
        }

        html.light ::-webkit-scrollbar-thumb:hover {
            background: #94A3B8;
        }

        /* Light Mode - Gradient Text remains colorful */
        html.light .gradient-text {
            background: linear-gradient(135deg, #F97316 0%, #3B82F6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Light Mode - Glow Effects (subtle) */
        html.light .glow-orange {
            box-shadow: 0 0 20px rgba(249, 115, 22, 0.1);
        }

        html.light .glow-blue {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.1);
        }

        /* Light Mode - Filter Chips */
        html.light .filter-chip {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
            color: #475569;
        }

        html.light .filter-chip:hover,
        html.light .filter-chip.active {
            border-color: var(--primary);
            background: rgba(249, 115, 22, 0.05);
        }

        /* Light Mode - Platform Options */
        html.light .platform-option {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
        }

        html.light .platform-option:hover {
            border-color: #CBD5E1;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        /* Light Mode - Text colors with better contrast */
        html.light .text-slate-900 {
            color: #0F172A !important;
        }

        html.light .text-slate-800 {
            color: #1E293B !important;
        }

        html.light .text-slate-600 {
            color: var(--text-secondary-light) !important;
        }

        /* Light Mode - Border colors */
        html.light .border-slate-800 {
            border-color: var(--border-subtle-light) !important;
        }

        /* Light Mode - Hover backgrounds */
        html.light .hover\:bg-slate-800:hover {
            background: #F1F5F9 !important;
        }

        html.light .hover\:bg-slate-800\/50:hover {
            background: rgba(241, 245, 249, 0.8) !important;
        }

        /* Light Mode - Focus ring */
        html.light .focus\:ring-orange-500:focus {
            --tw-ring-color: rgba(249, 115, 22, 0.3);
        }

        /* Light Mode - Card inner backgrounds */
        html.light .bg-slate-900 {
            background: #F8FAFC !important;
        }

        html.light .bg-slate-900\/50 {
            background: rgba(248, 250, 252, 0.8) !important;
        }

        /* Light Mode - Border slate 900 */
        html.light .border-slate-900 {
            border-color: var(--border-subtle-light) !important;
        }

        /* Light Mode - Toggle switch track */
        html.light .peer:checked + div {
            background-color: var(--primary);
        }

        /* Light Mode - Icon containers */
        html.light [class*="bg-"][class*="/20"],
        html.light [class*="bg-"][class*="/10"] {
            opacity: 0.9;
        }

        /* Light Mode - Table rows */
        html.light tr:hover {
            background: rgba(241, 245, 249, 0.5);
        }

        /* Light Mode - Dropdown menus */
        html.light .dropdown-menu {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* Light Mode - Tooltip */
        html.light .tooltip {
            background: #1E293B;
            color: #FFFFFF;
        }

        /* Light Mode - Chart backgrounds */
        html.light .chart-container {
            background: #FFFFFF;
        }

        /* Light Mode - Empty state */
        html.light .empty-state {
            background: rgba(241, 245, 249, 0.5);
            border: 2px dashed #CBD5E1;
        }

        /* Light Mode - Code blocks */
        html.light code,
        html.light pre {
            background: #F1F5F9;
            color: #0F172A;
        }

        /* Light Mode - Box shadows for cards */
        html.light .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -2px rgba(0, 0, 0, 0.04);
        }

        html.light .shadow-xl {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 10px 10px -5px rgba(0, 0, 0, 0.02);
        }

        /* Light Mode - Product Modal */
        html.light .product-modal-overlay {
            background: rgba(0, 0, 0, 0.5);
        }

        html.light .product-modal {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }

        html.light .modal-close {
            background: #F1F5F9;
            color: #475569;
        }

        html.light .modal-close:hover {
            background: #E2E8F0;
            color: #0F172A;
        }

        /* Light Mode - Product Image Placeholder */
        html.light .from-slate-700,
        html.light .to-slate-800 {
            --tw-gradient-from: var(--border-subtle-light) !important;
            --tw-gradient-to: #CBD5E1 !important;
        }

        /* Light Mode - Stat Boxes */
        html.light .bg-orange-500\/10,
        html.light .bg-blue-500\/10,
        html.light .bg-green-500\/10,
        html.light .bg-purple-500\/10 {
            background: rgba(255, 255, 255, 0.9) !important;
            border: 1px solid var(--border-subtle-light);
        }

        /* Light Mode - Platform Compare Cards */
        html.light .bg-orange-500\/10 {
            background: rgba(249, 115, 22, 0.08) !important;
            border: 1px solid rgba(249, 115, 22, 0.15);
        }

        html.light .bg-blue-500\/10 {
            background: rgba(59, 130, 246, 0.08) !important;
            border: 1px solid rgba(59, 130, 246, 0.15);
        }

        html.light .bg-red-500\/10,
        html.light .bg-red-500\/5 {
            background: rgba(239, 68, 68, 0.08) !important;
        }

        html.light .bg-green-500\/10 {
            background: rgba(16, 185, 129, 0.08) !important;
            border: 1px solid rgba(16, 185, 129, 0.15);
        }

        /* Light Mode - Price Chart Area */
        html.light .price-chart {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
        }

        /* Light Mode - Border with opacity */
        html.light .border-orange-500\/30 {
            border-color: rgba(249, 115, 22, 0.2) !important;
        }

        html.light .border-blue-500\/30 {
            border-color: rgba(59, 130, 246, 0.2) !important;
        }

        /* Light Mode - Login/Register form */
        html.light .login-card {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        /* Light Mode - Tab buttons */
        html.light .tab-btn {
            color: #64748B;
        }

        html.light .tab-btn.active {
            color: var(--primary);
            border-color: var(--primary);
        }

        /* Light Mode - Divider lines */
        html.light hr,
        html.light .divider {
            border-color: var(--border-subtle-light);
        }

        /* Light Mode - Quick filters */
        html.light .quick-filter {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
            color: #475569;
        }

        html.light .quick-filter:hover,
        html.light .quick-filter.active {
            border-color: var(--primary);
            color: var(--primary);
        }

        /* Light Mode - Rating stars container */
        html.light .rating-container {
            background: rgba(250, 204, 21, 0.1);
        }

        /* Light Mode - Fix remaining dark backgrounds */
        html.light [style*="rgba(15, 23, 42"],
        html.light [style*="rgba(30, 41, 59"] {
            background: #FFFFFF !important;
        }

        /* Light Mode - Tabs */
        html.light .tabs {
            background: rgba(241, 245, 249, 0.8);
            border: 1px solid var(--border-subtle-light);
        }

        html.light .tab {
            color: #64748B;
        }

        html.light .tab:hover {
            color: #0F172A;
        }

        html.light .tab.active {
            background: #FFFFFF;
            color: var(--primary);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        /* Light Mode - Filter sections */
        html.light .filter-section {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
        }

        /* Light Mode - Category cards */
        html.light .category-card {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
        }

        html.light .category-card:hover {
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        /* Light Mode - Analysis panels */
        html.light .analysis-panel {
            background: #FFFFFF;
            border: 1px solid var(--border-subtle-light);
        }

        /* Light Mode - Trend items */
        html.light .trend-item {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--border-subtle-light);
        }

        html.light .trend-item:hover {
            background: #FFFFFF;
            border-color: #CBD5E1;
        }

        /* Light Mode - Action buttons in cards */
        html.light .action-btn {
            background: #F1F5F9;
            color: #475569;
        }

        html.light .action-btn:hover {
            background: #E2E8F0;
            color: #0F172A;
        }

        /* Light Mode - Checkbox styling */
        html.light input[type="checkbox"] {
            background: #FFFFFF;
            border-color: #CBD5E1;
        }

        html.light input[type="checkbox"]:checked {
            background-color: var(--primary);
            border-color: var(--primary);
        }

        /* Light Mode - Radio buttons */
        html.light input[type="radio"] {
            background: #FFFFFF;
            border-color: #CBD5E1;
        }

        /* Light Mode - Accordion headers */
        html.light .accordion-header {
            background: #F8FAFC;
            border: 1px solid var(--border-subtle-light);
        }

        html.light .accordion-header:hover {
            background: #F1F5F9;
        }

        /* Light Mode - List items */
        html.light .list-item {
            border-bottom: 1px solid var(--border-subtle-light);
        }

        html.light .list-item:hover {
            background: rgba(241, 245, 249, 0.5);
        }

        /* Light Mode - Notification dot */
        html.light .notification-dot {
            box-shadow: 0 0 0 2px #FFFFFF;
        }

        /* Light Mode - Avatar ring */
        html.light .avatar-ring {
            border-color: var(--border-subtle-light);
        }

        /* Light Mode - Price display */
        html.light .price-tag {
            background: rgba(16, 185, 129, 0.08);
            color: #059669;
        }

        /* Light Mode - Main content area */
        html.light .main-content {
            background: transparent;
        }

        /* Light Mode - Section headers */
        html.light .section-header {
            border-bottom: 1px solid var(--border-subtle-light);
        }

        /* Light Mode - Empty state icon */
        html.light .empty-icon {
            color: #CBD5E1;
        }

        /* Light Mode - Skeleton loading */
        html.light .skeleton {
            background: linear-gradient(90deg, var(--border-subtle-light) 25%, #F1F5F9 50%, var(--border-subtle-light) 75%);
        }

        /* Light Mode - Product Image Gradients */
        html.light .bg-gradient-to-br.from-slate-700.to-slate-800,
        html.light .from-slate-700.to-slate-800,
        html.light [class*="from-slate-700"][class*="to-slate-800"] {
            background: linear-gradient(to bottom right, var(--border-subtle-light), #CBD5E1) !important;
        }

        /* Light Mode - Product card hover button */
        html.light .bg-slate-800\/80 {
            background: rgba(255, 255, 255, 0.95) !important;
            color: #475569;
            border: 1px solid var(--border-subtle-light);
        }

        html.light .bg-slate-800\/80:hover {
            background: #FFFFFF !important;
            color: #0F172A;
        }

        /* Light Mode - Danger zone */
        html.light .border-red-500\/20 {
            border-color: rgba(239, 68, 68, 0.2);
        }

        /* Light Mode - Profile avatar gradient (keep colorful) */
        html.light .from-orange-500.to-blue-600 {
            /* Keep gradient as is - brand colors */
        }

        /* Light Mode - Trend up/down indicators */
        html.light .text-green-400 {
            color: #059669 !important;
        }

        html.light .text-red-400 {
            color: #DC2626 !important;
        }

        /* Light Mode - Yellow star rating */
        html.light .text-yellow-400 {
            color: #CA8A04 !important;
        }

        /* Light Mode - Settings toggle background */
        html.light .bg-slate-600 {
            background: #CBD5E1 !important;
        }

        /* Light Mode - Info text improvements */
        html.light .text-slate-200 {
            color: #334155 !important;
        }

        /* Light Mode - Gradient overlay for modal image */
        html.light .from-transparent.to-slate-900 {
            background: linear-gradient(to bottom, transparent, rgba(248, 250, 252, 0.9)) !important;
        }

        /* Light Mode - Price trend chart area */
        html.light .price-trend-area {
            fill: rgba(249, 115, 22, 0.1);
        }

        /* Light Mode - Platform compare panel */
        html.light .bg-slate-800\/50 {
            background: rgba(248, 250, 252, 0.9) !important;
        }

        /* Light Mode - Ensure orange/blue accents remain visible */
        html.light .border-orange-500 {
            border-color: var(--primary) !important;
        }

        html.light .bg-orange-500\/10 {
            background: rgba(249, 115, 22, 0.1) !important;
        }

        html.light .bg-orange-500\/20 {
            background: rgba(249, 115, 22, 0.15) !important;
        }

        /* Light Mode - Blue secondary color */
        html.light .bg-blue-500\/20 {
            background: rgba(59, 130, 246, 0.15) !important;
        }

        /* Light Mode - Green success backgrounds */
        html.light .bg-green-500\/20 {
            background: rgba(16, 185, 129, 0.15) !important;
        }

        /* Light Mode - Purple accent */
        html.light .bg-purple-500\/20 {
            background: rgba(168, 85, 247, 0.15) !important;
        }

        /* Light Mode - Icon colors in light backgrounds */
        html.light .text-orange-400 {
            color: #EA580C !important;
        }

        html.light .text-blue-400 {
            color: #2563EB !important;
        }

        html.light .text-green-400 {
            color: #059669 !important;
        }

        html.light .text-purple-400 {
            color: #9333EA !important;
        }

        /* Light Mode - Keep primary buttons vibrant */
        html.light .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, #EA580C 100%);
            color: white;
        }

        /* Light Mode - Secondary button */
        html.light .btn-secondary {
            background: rgba(59, 130, 246, 0.1);
            color: #2563EB;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        html.light .btn-secondary:hover {
            background: rgba(59, 130, 246, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', 'Noto Sans SC', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Aurora Background */
        .aurora-bg {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 60%, rgba(249, 115, 22, 0.1) 0%, transparent 40%),
                radial-gradient(ellipse 50% 30% at 20% 80%, rgba(16, 185, 129, 0.08) 0%, transparent 40%);
            pointer-events: none;
            z-index: -1;
        }

        /* Glass Card */
        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 16px;
        }

        .glass-card-hover {
            transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .glass-card-hover:hover {
            background: rgba(51, 65, 85, 0.6);
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        /* Glow Effects */
        .glow-orange {
            box-shadow: 0 0 20px rgba(249, 115, 22, 0.2);
        }

        .glow-blue {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
        }

        /* Gradient Text */
        .gradient-text {
            background: linear-gradient(135deg, #F97316 0%, #3B82F6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            height: 100vh;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(12px);
            border-right: 1px solid var(--border);
            position: fixed;
            left: 0;
            top: 0;
            padding: 20px 12px;
            display: flex;
            flex-direction: column;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
            margin-bottom: 4px;
        }

        .nav-item:hover {
            background: rgba(59, 130, 246, 0.1);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.15) 0%, rgba(249, 115, 22, 0.05) 100%);
            color: var(--primary);
            border: 1px solid rgba(249, 115, 22, 0.2);
        }

        /* Main Content */
        .main-content {
            margin-left: 260px;
            padding: 24px 32px;
            min-height: 100vh;
        }

        /* Search Input */
        .search-input {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 14px 20px;
            color: var(--text-primary);
            width: 100%;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        /* Button Styles */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, #EA580C 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(249, 115, 22, 0.3);
        }

        .btn-secondary {
            background: rgba(59, 130, 246, 0.1);
            color: var(--secondary);
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            border: 1px solid rgba(59, 130, 246, 0.3);
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .btn-secondary:hover {
            background: rgba(59, 130, 246, 0.2);
        }

        .btn-ghost {
            background: transparent;
            color: var(--text-secondary);
            padding: 10px 16px;
            border-radius: 10px;
            font-weight: 500;
            border: 1px solid transparent;
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .btn-ghost:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }

        /* Stat Card */
        .stat-card {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.8) 100%);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(249, 115, 22, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-top: 4px;
        }

        .stat-change {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 6px;
            margin-top: 8px;
        }

        .stat-change.positive {
            background: rgba(16, 185, 129, 0.15);
            color: var(--success);
        }

        .stat-change.negative {
            background: rgba(239, 68, 68, 0.15);
            color: var(--danger);
        }

        /* Product Card */
        .product-card {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-4px);
            border-color: rgba(249, 115, 22, 0.4);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }

        .product-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            background: linear-gradient(135deg, #1E293B 0%, #334155 100%);
        }

        .product-info {
            padding: 16px;
        }

        .product-title {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-primary);
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-price {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary);
            margin-top: 8px;
        }

        .product-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Badge */
        .badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-hot {
            background: rgba(239, 68, 68, 0.15);
            color: #EF4444;
        }

        .badge-trend {
            background: rgba(16, 185, 129, 0.15);
            color: #10B981;
        }

        .badge-warning {
            background: rgba(245, 158, 11, 0.15);
            color: #F59E0B;
        }

        /* Chart Container */
        .chart-container {
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
        }

        /* Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            text-align: left;
            padding: 16px;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border);
        }

        .data-table td {
            padding: 16px;
            border-bottom: 1px solid rgba(51, 65, 85, 0.5);
        }

        .data-table tr:hover td {
            background: rgba(59, 130, 246, 0.05);
        }

        /* Progress Bar */
        .progress-bar {
            height: 8px;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 4px;
            background: rgba(15, 23, 42, 0.5);
            padding: 4px;
            border-radius: 12px;
            width: fit-content;
        }

        .tab {
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            background: transparent;
        }

        .tab:hover {
            color: var(--text-primary);
        }

        .tab.active {
            background: rgba(249, 115, 22, 0.15);
            color: var(--primary);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
        }

        /* Product Modal */
        .product-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }

        .product-modal {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 24px;
            max-width: 1100px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease;
            position: relative;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            z-index: 10;
            color: var(--text-secondary);
        }

        .modal-close:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.5);
            color: #EF4444;
        }

        /* Price Trend Chart */
        .price-trend {
            display: flex;
            align-items: flex-end;
            gap: 3px;
            height: 60px;
            padding: 8px 0;
        }

        .price-trend-bar {
            flex: 1;
            background: linear-gradient(to top, var(--primary), rgba(249, 115, 22, 0.3));
            border-radius: 3px 3px 0 0;
            transition: all 0.2s ease;
            min-height: 4px;
        }

        .price-trend-bar:hover {
            background: var(--primary);
            transform: scaleY(1.1);
        }

        /* Comparison Bar */
        .comparison-bar {
            height: 12px;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 6px;
            overflow: hidden;
            display: flex;
        }

        .comparison-segment {
            height: 100%;
            transition: width 0.3s ease;
        }

        .comparison-segment.positive {
            background: linear-gradient(90deg, #10B981, #059669);
        }

        .comparison-segment.negative {
            background: linear-gradient(90deg, #EF4444, #DC2626);
        }

        .comparison-segment.neutral {
            background: linear-gradient(90deg, #64748B, #475569);
        }

        /* ========== 新布局样式 ========== */

        /* 顶部核心信息区 */
        .product-header-section {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(51, 65, 85, 0.5);
            margin-bottom: 20px;
        }

        .product-basic-info {
            flex: 1;
            max-width: 60%;
        }

        .product-title-lg {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .product-desc-sm {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .platform-indicator {
            font-size: 0.75rem;
            color: var(--text-secondary);
            padding: 4px 8px;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 6px;
        }

        .product-price-info {
            text-align: right;
        }

        .price-main {
            display: flex;
            align-items: baseline;
            justify-content: flex-end;
            gap: 12px;
            margin-bottom: 4px;
        }

        .price-current {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            line-height: 1;
        }

        .price-original {
            font-size: 1.125rem;
            color: var(--text-muted);
            text-decoration: line-through;
        }

        .discount-badge {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--success);
            background: rgba(16, 185, 129, 0.15);
            padding: 4px 8px;
            border-radius: 6px;
        }

        .price-meta {
            font-size: 0.75rem;
            color: var(--success);
        }

        /* 全平台统计卡片 */
        .platform-stats-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 12px;
            backdrop-filter: blur(12px);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .stat-icon {
            font-size: 1.5rem;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 10px;
        }

        .stat-content {
            flex: 1;
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 2px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .stat-trend {
            font-size: 0.625rem;
            margin-top: 2px;
        }

        .stat-trend.positive {
            color: var(--success);
        }

        .stat-sub {
            font-size: 0.625rem;
            color: var(--text-muted);
            margin-top: 2px;
        }

        /* 多平台对比卡片 */
        .platform-comparison-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .platform-card {
            padding: 16px;
            background: rgba(30, 41, 59, 0.5);
            border: 2px solid transparent;
            border-radius: 12px;
            position: relative;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .platform-amazon {
            border-color: rgba(249, 115, 22, 0.3);
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.08) 0%, rgba(30, 41, 59, 0.5) 100%);
        }

        .platform-ebay {
            border-color: rgba(59, 130, 246, 0.3);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(30, 41, 59, 0.5) 100%);
        }

        .platform-aliexpress {
            border-color: rgba(236, 72, 153, 0.3);
            background: linear-gradient(135deg, rgba(236, 72, 153, 0.08) 0%, rgba(30, 41, 59, 0.5) 100%);
        }

        .platform-tiktok {
            border-color: rgba(100, 116, 139, 0.3);
            background: linear-gradient(135deg, rgba(100, 116, 139, 0.08) 0%, rgba(30, 41, 59, 0.5) 100%);
        }

        .platform-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
        }

        .platform-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .platform-name {
            font-size: 0.875rem;
            font-weight: 600;
        }

        .platform-flag {
            font-size: 0.875rem;
        }

        .platform-price {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .platform-amazon .platform-price { color: #F97316; }
        .platform-ebay .platform-price { color: #3B82F6; }
        .platform-aliexpress .platform-price { color: #EC4899; }
        .platform-tiktok .platform-price { color: #94A3B8; }

        .platform-metrics {
            display: flex;
            justify-content: space-between;
        }

        .metric-item {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .metric-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            flex-shrink: 0;
        }

        .metric-item-success .metric-icon {
            background: rgba(16, 185, 129, 0.15);
            color: #10B981;
        }

        .metric-item-warning .metric-icon {
            background: rgba(245, 158, 11, 0.15);
            color: #F59E0B;
        }

        .metric-item-info .metric-icon {
            background: rgba(59, 130, 246, 0.15);
            color: #3B82F6;
        }

        .product-metrics {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .metric-value {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .metric-label {
            font-size: 0.625rem;
            color: var(--text-muted);
        }

        .platform-badge-best {
            position: absolute;
            top: -8px;
            right: -8px;
            background: linear-gradient(135deg, var(--primary) 0%, #EA580C 100%);
            color: white;
            font-size: 0.625rem;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.4);
        }

        /* 平台汇总条 */
        .platform-summary-bar {
            display: flex;
            justify-content: space-around;
            padding: 12px 16px;
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 10px;
            margin-bottom: 24px;
        }

        .summary-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .summary-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .summary-value {
            font-size: 0.875rem;
            font-weight: 600;
        }

        .summary-platform {
            font-size: 0.625rem;
            color: var(--text-muted);
        }

        /* 中部主体区 */
        .product-main-section {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 24px;
            margin-bottom: 20px;
        }

        /* 产品图片画廊 (已隐藏) */
        .product-gallery {
            display: none;
        }

        /* 左侧内容区：仅图表 */
        .product-content-left {
            display: block;
        }

        .main-image-container {
            aspect-ratio: 1;
            border-radius: 16px;
            overflow: hidden;
            background: linear-gradient(135deg, #1E293B 0%, #334155 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }

        .thumbnail-item {
            aspect-ratio: 1;
            border-radius: 8px;
            background: rgba(51, 65, 85, 0.5);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .thumbnail-item:hover {
            border-color: rgba(249, 115, 22, 0.5);
            background: rgba(51, 65, 85, 0.7);
        }

        /* 产品分析区 */
        .product-analytics {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .analytics-card {
            padding: 16px;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 12px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .card-header h3 {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* 价格趋势宽版 */
        .trend-chart-container {
            position: relative;
        }

        .trend-chart {
            display: flex;
            align-items: flex-end;
            gap: 4px;
            height: 80px;
            padding: 8px 0;
        }

        .trend-axis {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
        }

        .trend-axis span {
            font-size: 0.625rem;
            color: var(--text-muted);
        }

        .trend-summary {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(51, 65, 85, 0.3);
        }

        .summary-stat {
            text-align: center;
        }

        .summary-stat .stat-label {
            font-size: 0.625rem;
            color: var(--text-muted);
        }

        .summary-stat .stat-value {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* 竞争力分析 */
        .competition-visual {
            margin-bottom: 12px;
        }

        .competition-bar-chart {
            display: flex;
            height: 32px;
            border-radius: 8px;
            overflow: hidden;
        }

        .bar-segment {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 0.625rem;
            color: white;
        }

        .bar-segment .bar-label {
            font-size: 0.625rem;
        }

        .competition-insights {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .insight-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
        }

        .insight-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 50%;
            font-size: 0.625rem;
        }

        /* 关键指标汇总 */
        .product-key-metrics {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .metric-card {
            padding: 16px;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 12px;
            text-align: center;
        }

        .metric-card.highlight-card {
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.15) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-color: rgba(249, 115, 22, 0.3);
        }

        .metric-title {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .metric-value-large {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .metric-desc {
            font-size: 0.625rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .metric-bar {
            height: 4px;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 2px;
            overflow: hidden;
            margin-top: 8px;
        }

        .metric-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), #EA580C);
            border-radius: 2px;
        }

        /* AI 分析横条 */
        .ai-analysis-bar {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 20px;
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
            border: 1px solid rgba(249, 115, 22, 0.2);
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .ai-icon-pulse {
            animation: ai-pulse 2s ease-in-out infinite;
        }

        @keyframes ai-pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        .ai-icon {
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 10px;
        }

        .ai-content {
            flex: 1;
        }

        .ai-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 4px;
        }

        .ai-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .ai-confidence {
            font-size: 0.625rem;
            color: var(--success);
            background: rgba(16, 185, 129, 0.15);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .ai-summary {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .highlight-green { color: #10B981; font-weight: 600; }
        .highlight-orange { color: #F97316; font-weight: 600; }
        .highlight-blue { color: #3B82F6; font-weight: 600; }

        .ai-actions {
            display: flex;
            gap: 8px;
        }

        .ai-btn {
            font-size: 0.75rem;
            padding: 6px 12px;
            background: rgba(51, 65, 85, 0.5);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 8px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .ai-btn:hover {
            background: rgba(51, 65, 85, 0.7);
            color: var(--text-primary);
        }

        /* 操作按钮区扩展 */
        .action-buttons-row {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            flex: 1;
            min-width: 120px;
            justify-content: center;
        }

        .action-primary {
            background: linear-gradient(135deg, var(--primary) 0%, #EA580C 100%);
            color: white;
            border: none;
        }

        .action-secondary {
            background: rgba(59, 130, 246, 0.1);
            color: var(--secondary);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .action-ghost {
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid transparent;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* ========== 优化的图表样式 ========== */

        /* 价格趋势面积图 */
        .price-trend-chart {
            position: relative;
            height: 120px;
            display: flex;
            align-items: flex-end;
            gap: 4px;
            padding: 16px 12px 12px;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            overflow: hidden;
        }

        .price-trend-chart::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(51, 65, 85, 0.5), transparent);
        }

        .price-trend-area {
            position: absolute;
            bottom: 0;
            left: 12px;
            right: 12px;
            height: 100%;
            pointer-events: none;
        }

        .trend-svg {
            width: 100%;
            height: 100%;
        }

        .trend-path {
            fill: none;
            stroke: url(#trendGradient);
            stroke-width: 2.5;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .trend-area-fill {
            fill: url(#areaGradient);
            opacity: 0.3;
        }

        .trend-point {
            fill: var(--bg-dark);
            stroke: var(--primary);
            stroke-width: 2;
            r: 4;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .trend-point:hover {
            r: 6;
            fill: var(--primary);
            filter: drop-shadow(0 0 8px rgba(249, 115, 22, 0.6));
        }

        .trend-point.active {
            r: 6;
            fill: var(--primary);
        }

        /* 价格标签 */
        .trend-label {
            position: absolute;
            bottom: 4px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            color: var(--text-muted);
        }

        .trend-tooltip {
            position: absolute;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
            z-index: 100;
        }

        .trend-tooltip.visible {
            opacity: 1;
        }

        .trend-tooltip .price {
            font-weight: 600;
            color: var(--primary);
        }

        .trend-tooltip .date {
            color: var(--text-secondary);
            font-size: 10px;
        }

        /* 市场竞争力雷达图 */
        .competitive-meter {
            position: relative;
            padding: 20px 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .radar-chart-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto;
        }

        .radar-chart {
            width: 100%;
            height: 100%;
        }

        /* 雷达图背景网格 */
        .radar-grid {
            fill: none;
            stroke: rgba(51, 65, 85, 0.5);
            stroke-width: 1;
        }

        .radar-axis {
            stroke: rgba(51, 65, 85, 0.3);
            stroke-width: 1;
            stroke-dasharray: 4 4;
        }

        /* 雷达图数据区域 */
        .radar-area {
            fill: rgba(249, 115, 22, 0.2);
            stroke: var(--primary);
            stroke-width: 2;
            filter: drop-shadow(0 0 8px rgba(249, 115, 22, 0.3));
        }

        /* 雷达图数据点 */
        .radar-point {
            fill: var(--bg-dark);
            stroke: var(--primary);
            stroke-width: 2;
            r: 4;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .radar-point:hover {
            r: 6;
            fill: var(--primary);
            filter: drop-shadow(0 0 6px rgba(249, 115, 22, 0.8));
        }

        /* 雷达图标签 */
        .radar-label {
            font-size: 10px;
            fill: var(--text-secondary);
            text-anchor: middle;
            dominant-baseline: middle;
        }

        .radar-label-value {
            font-size: 11px;
            font-weight: 600;
            fill: var(--primary);
            text-anchor: middle;
        }

        /* 雷达图图例 */
        .radar-legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-top: 16px;
        }

        .radar-legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: var(--text-secondary);
            padding: 6px 12px;
            background: rgba(30, 41, 59, 0.4);
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .radar-legend-item:hover {
            background: rgba(30, 41, 59, 0.6);
            transform: translateY(-2px);
        }

        .radar-legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary);
            box-shadow: 0 0 6px rgba(249, 115, 22, 0.5);
        }

        .radar-legend-label {
            font-weight: 500;
            color: var(--text-primary);
        }

        .radar-legend-value {
            font-weight: 600;
            color: var(--primary);
        }

        /* 雷达图动画 */
        @keyframes radar-draw {
            from {
                stroke-dashoffset: 1000;
                opacity: 0;
            }
            to {
                stroke-dashoffset: 0;
                opacity: 1;
            }
        }

        @keyframes radar-point-pop {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .radar-area {
            animation: radar-draw 1s ease-out forwards;
        }

        .radar-point {
            animation: radar-point-pop 0.5s ease-out forwards;
        }

        .radar-point:nth-child(1) { animation-delay: 0.1s; }
        .radar-point:nth-child(2) { animation-delay: 0.2s; }
        .radar-point:nth-child(3) { animation-delay: 0.3s; }
        .radar-point:nth-child(4) { animation-delay: 0.4s; }
        .radar-point:nth-child(5) { animation-delay: 0.5s; }

        /* 趋势图动画 */
        @keyframes trend-draw {
            from {
                stroke-dashoffset: 1000;
            }
            to {
                stroke-dashoffset: 0;
            }
        }

        .trend-path {
            stroke-dasharray: 1000;
            animation: trend-draw 1.5s ease forwards;
        }

        /* Loading Skeleton */
        .skeleton {
            background: linear-gradient(90deg, rgba(51, 65, 85, 0.3) 25%, rgba(71, 85, 105, 0.5) 50%, rgba(51, 65, 85, 0.3) 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 8px;
        }

        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .skeleton-text {
            height: 16px;
            margin-bottom: 8px;
        }

        .skeleton-title {
            height: 24px;
            width: 60%;
            margin-bottom: 12px;
        }

        .skeleton-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .skeleton-image {
            width: 100%;
            height: 180px;
            border-radius: 12px;
        }

        /* Pulse Animation */
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.4); }
            50% { box-shadow: 0 0 20px 10px rgba(249, 115, 22, 0); }
        }

        .pulse-glow {
            animation: pulse-glow 2s infinite;
        }

        /* User Avatar */
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(59, 130, 246, 0.5);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-in {
            animation: fadeIn 0.3s ease forwards;
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }

            .animate-fade-in,
            .animate-slide-up,
            .animate-spin {
                animation: none !important;
            }

            .platform-details,
            .product-modal {
                animation: none !important;
            }
        }

        /* Focus Visible Styles */
        :focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        button:focus-visible,
        a:focus-visible,
        input:focus-visible,
        select:focus-visible,
        [tabindex]:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
            border-radius: 4px;
        }

        /* Toggle Switch Focus */
        .peer:focus-visible + div {
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.3);
        }

        /* Skip to Main Content Link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            z-index: 100;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 0;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }
        }

        /* Sidebar Collapsed */
        .sidebar.collapsed {
            width: 80px;
        }

        .sidebar.collapsed .nav-text,
        .sidebar.collapsed .logo-text,
        .sidebar.collapsed .user-name,
        .sidebar.collapsed .user-plan {
            display: none;
        }

        .sidebar.collapsed .nav-item {
            justify-content: center;
            padding: 12px;
        }

        .sidebar.collapsed .avatar {
            margin: 0 auto;
        }

        .sidebar.collapsed .user-section {
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .sidebar.collapsed .settings-btn {
            display: none;
        }

        .main-content.expanded {
            margin-left: 80px;
        }

        /* Sidebar Toggle */
        .sidebar-toggle {
            position: absolute;
            right: -12px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: all 0.2s ease;
        }

        .sidebar-toggle:hover {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .sidebar-toggle svg {
            transition: transform 0.3s ease;
        }

        .sidebar.collapsed .sidebar-toggle svg {
            transform: rotate(180deg);
        }

        /* Focus visible states for accessibility */
        :focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        button:focus-visible,
        input:focus-visible,
        a:focus-visible,
        [role="button"]:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Skip to main content link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            z-index: 9999;
            transition: top 0.3s ease;
            font-weight: 500;
        }

        .skip-link:focus {
            top: 0;
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            .skeleton {
                animation: none;
                background: rgba(51, 65, 85, 0.5);
            }

            @keyframes skeleton-loading {
                0%, 100% { background-position: 0; }
            }

            .pulse-glow {
                animation: none;
            }

            .product-modal {
                animation: modalSlideIn 0.1s ease !important;
            }

            @keyframes modalSlideIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }

            .aurora-bg {
                animation: none;
            }

            * {
                transition-duration: 0.01ms !important;
                animation-duration: 0.01ms !important;
            }
        }

        /* Cursor pointer for interactive elements */
        .cursor-pointer {
            cursor: pointer;
        }

        /* Platform selection checkbox styles */
        .platform-checkbox:checked {
            background-color: rgb(249 115 22);
            border-color: rgb(249 115 22);
        }

        /* Platform expand panel animation */
        .platform-details {
            animation: slideDown 0.2s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Platform badge base */
        .platform-badge {
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
        }

        .platform-badge-amazon {
            background: rgba(249, 115, 22, 0.2);
            color: #fb923c;
        }

        .platform-badge-ebay {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
        }

        .platform-badge-aliexpress {
            background: rgba(236, 72, 153, 0.2);
            color: #f472b6;
        }

        .platform-badge-tiktok {
            background: rgba(148, 163, 184, 0.3);
            color: #e2e8f0;
        }

        /* Trend arrow animation */
        .trend-up {
            animation: trendUp 1s ease-in-out infinite;
        }

        @keyframes trendUp {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }

        /* Price change pulse animation */
        .price-change {
            animation: pricePulse 0.5s ease;
        }

        @keyframes pricePulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Platform option hover scale */
        .platform-option {
            transition: transform 0.2s ease, border-color 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
        }

        .platform-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.2);
        }

        /* ========================================
           AI Chat Search Page Styles
           ======================================== */

        /* Search page container */
        .search-page {
            position: relative;
            min-height: 100vh;
            padding-top: 80px;
        }

        /* ========== AI Chat 欢迎容器 ========== */
        .ai-chat-welcome-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 20px 40px;
            min-height: calc(100vh - 200px);
            display: flex;
            flex-direction: column;
        }

        /* AI Chat 头部 */
        .ai-chat-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .ai-avatar-large {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, #F97316 0%, #EA580C 100%);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
            box-shadow: 0 8px 32px rgba(249, 115, 22, 0.4);
        }

        .ai-chat-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .ai-chat-subtitle {
            font-size: 15px;
            color: var(--text-secondary);
        }

        /* AI Chat 输入区域 */
        .ai-chat-input-section {
            max-width: 700px;
            margin: 0 auto 40px;
            width: 100%;
        }

        /* 快捷建议标签（玻璃态风格，匹配网站整体设计） */
        .ai-suggestions-inline {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 16px;
            justify-content: center;
        }

        .suggestion-chip {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            color: rgba(255, 255, 255, 0.7);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .suggestion-chip:hover {
            background: rgba(249, 115, 22, 0.15);
            border-color: rgba(249, 115, 22, 0.4);
            color: #F97316;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.2);
        }

        .suggestion-chip svg {
            transition: all 0.2s ease;
        }

        .suggestion-chip:hover svg {
            color: #F97316;
            transform: scale(1.1);
        }

        /* ========== AI 爆品推荐区域 ========== */
        .ai-recommendations-section {
            margin-top: auto;
            padding-top: 40px;
            border-top: 1px solid rgba(51, 65, 85, 0.3);
        }

        .recommendations-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .recommendations-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .recommendations-title svg {
            color: #F97316;
        }

        .view-all-link {
            color: #F97316;
            font-size: 13px;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .view-all-link:hover {
            color: #FB923C;
        }

        .search-query-badge {
            display: inline-block;
            padding: 4px 10px;
            margin-left: 8px;
            background: rgba(249, 115, 22, 0.15);
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            color: #F97316;
        }

        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }

        /* 显示所有结果时的样式（类似收藏页面） */
        .recommendations-grid.all-results {
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .recommendations-grid.all-results .recommendation-card {
            padding: 16px;
        }

        .recommendations-grid.all-results .recommendation-title {
            font-size: 14px;
        }

        .recommendation-card {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 16px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .recommendation-card:hover {
            background: rgba(30, 41, 59, 0.8);
            border-color: rgba(249, 115, 22, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .recommendation-image {
            width: 100%;
            aspect-ratio: 16/10;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.8) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            position: relative;
        }

        .platform-badges {
            position: absolute;
            top: 8px;
            left: 8px;
            display: flex;
            gap: 4px;
        }

        .platform-badge {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 500;
        }

        .platform-badge.amazon {
            background: rgba(249, 115, 22, 0.2);
            color: #F97316;
        }

        .platform-badge.ebay {
            background: rgba(59, 130, 246, 0.2);
            color: #3B82F6;
        }

        .recommendation-info {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .recommendation-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
            align-self: flex-start;
        }

        .recommendation-title {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-primary);
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .recommendation-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 4px;
        }

        .recommendation-price {
            font-size: 16px;
            font-weight: 700;
            color: #F97316;
        }

        .recommendation-sales {
            font-size: 11px;
            color: var(--text-muted);
        }

        /* ========== 对话容器 ========== */
        .chat-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px 180px;
            min-height: calc(100vh - 250px);
        }

        /* ========== 消息列表 ========== */
        .message-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .message-item {
            display: flex;
        }

        /* ========== AI 消息气泡 ========== */
        .chat-container .ai-message-bubble {
            display: flex;
            gap: 12px;
            animation: fadeInUp 0.4s ease-out;
        }

        .chat-container .ai-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #F97316 0%, #FB923C 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
        }

        /* ========== 打字指示器 ========== */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .typed-text {
            color: var(--text-secondary);
        }

        .cursor {
            animation: blink 1s infinite;
            color: #F97316;
            font-weight: bold;
            font-size: 18px;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* ========== 筛选表单样式 ========== */
        .filter-form-message {
            width: 100%;
        }

        .filter-form {
            margin-top: 20px;
        }

        /* 筛选类别 */
        .filter-category {
            margin-bottom: 24px;
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            color: var(--text-primary, #E2E8F0);
            font-weight: 500;
        }

        .category-icon {
            font-size: 18px;
        }

        .category-title {
            font-size: 14px;
        }

        /* 筛选选项组 */
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* 筛选选项按钮 */
        .filter-option {
            padding: 10px 18px;
            border-radius: 20px;
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            color: var(--text-secondary, #94A3B8);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-option:hover {
            background: rgba(30, 41, 59, 0.8);
            border-color: rgba(249, 115, 22, 0.3);
            transform: translateY(-1px);
        }

        /* 选中状态 */
        .filter-option.selected {
            background: rgba(249, 115, 22, 0.15);
            border-color: rgba(249, 115, 22, 0.5);
            color: #F97316;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.2);
        }

        /* 平台选项特殊样式 */
        .platform-option {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .platform-icon {
            font-size: 14px;
        }

        /* 提交区域 */
        .submit-section {
            margin-top: 24px;
            padding-top: 16px;
            border-top: 1px solid rgba(51, 65, 85, 0.3);
            text-align: center;
        }

        .submit-btn {
            padding: 14px 40px;
            border-radius: 28px;
            background: linear-gradient(135deg, #F97316, #EA580C);
            border: none;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(249, 115, 22, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        /* 动画 */
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .animate-slide-up {
            animation: slideUpStagger 0.3s ease-out backwards;
        }

        @keyframes slideUpStagger {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ========== 用户消息气泡 ========== */
        .user-message-bubble {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            animation: fadeInUp 0.3s ease-out;
            width: 100%;
        }

        .user-message-bubble .message-content {
            background: linear-gradient(135deg, #F97316 0%, #EA580C 100%);
            padding: 12px 20px;
            border-radius: 20px 20px 4px 20px;
            color: white;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.3);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(100, 116, 139, 0.5);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        /* ========== 消息文本格式 ========== */
        .message-text {
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .message-text br {
            display: block;
            margin-bottom: 8px;
        }

        /* 搜索结果容器 */
        .search-results-container {
            padding: 100px 20px 180px;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 压缩搜索栏 */
        .compact-search-bar {
            max-width: 600px;
            margin: 0 auto 24px;
            position: relative;
            transition: all 0.3s ease;
        }

        .compact-search-input {
            width: 100%;
            padding: 12px 100px 12px 40px;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .compact-search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .clear-btn {
            position: absolute;
            right: 60px;
            top: 50%;
            transform: translateY(-50%);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: rgba(100, 116, 139, 0.3);
            border: none;
            color: var(--text-muted);
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .clear-btn:hover {
            background: rgba(100, 116, 139, 0.5);
            color: var(--text-primary);
        }

        .image-upload-btn-mini {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(249, 115, 22, 0.15);
            border: 1px solid rgba(249, 115, 22, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            color: var(--primary);
            transition: all 0.2s ease;
        }

        .image-upload-btn-mini:hover {
            background: rgba(249, 115, 22, 0.25);
            transform: translateY(-50%) scale(1.1);
        }

        /* 筛选标签 */
        .filter-tabs {
            max-width: 800px;
            margin: 0 auto 24px;
            display: flex;
            gap: 16px;
            overflow-x: auto;
            padding-bottom: 8px;
            scrollbar-width: none;
        }

        .filter-tabs::-webkit-scrollbar {
            display: none;
        }

        .filter-tab-group {
            display: flex;
            gap: 8px;
            flex-shrink: 0;
        }

        .filter-tab {
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            color: var(--text-secondary);
            font-size: 13px;
            white-space: nowrap;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .filter-tab:hover {
            background: rgba(30, 41, 59, 0.8);
            border-color: rgba(249, 115, 22, 0.3);
            color: var(--text-primary);
        }

        .filter-tab.active {
            background: rgba(249, 115, 22, 0.15);
            border-color: rgba(249, 115, 22, 0.5);
            color: var(--primary);
        }

        /* 搜索结果网格 */
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* 搜索输入容器（固定底部） */
        .search-input-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: linear-gradient(to top, var(--bg-dark) 0%, transparent 100%);
            z-index: 100;
        }

        .search-input-wrapper {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        /* ========== 聊天输入框容器 ========== */
        .chat-input-container {
            position: relative;
            padding: 16px;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(51, 65, 85, 0.3);
            transition: all 0.3s ease;
        }

        .chat-input-container.focused {
            background: rgba(15, 23, 42, 0.95);
            border-top-color: rgba(249, 115, 22, 0.3);
        }

        /* ========== AI 搜索输入容器（玻璃态风格，匹配网站整体设计） ========== */
        .search-input-wrapper {
            display: flex;
            align-items: flex-end;
            gap: 12px;
            padding: 12px 16px;
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 16px;
            transition: all 0.3s ease;
        }

        .search-input-wrapper:focus-within {
            background: rgba(51, 65, 85, 0.8);
            border-color: rgba(249, 115, 22, 0.5);
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        /* ========== 左侧功能按钮 ========== */
        .left-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(249, 115, 22, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
            color: #F97316;
        }

        .action-btn:hover {
            background: rgba(249, 115, 22, 0.2);
            transform: translateY(-1px);
        }

        .action-btn:active {
            transform: translateY(0);
        }

        /* ========== 输入框容器 ========== */
        .input-container {
            flex: 1;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* ========== 自适应文本框 ========== */
        .chat-textarea {
            width: 100%;
            min-height: 24px;
            max-height: 200px;
            padding: 8px 0;
            background: transparent;
            border: none;
            outline: none;
            color: rgba(255, 255, 255, 0.9);
            font-size: 15px;
            line-height: 1.5;
            resize: none;
            font-family: inherit;
            overflow-y: hidden;
        }

        .chat-textarea::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        /* ========== 字符计数 ========== */
        .char-count {
            position: absolute;
            bottom: -20px;
            right: 0;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.4);
        }

        /* ========== 发送按钮 ========== */
        .send-btn {
            width: 44px;
            height: 44px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: not-allowed;
            transition: all 0.2s ease;
            flex-shrink: 0;
            color: rgba(255, 255, 255, 0.3);
            transform: scale(0.9);
        }

        .send-btn.active {
            background: linear-gradient(135deg, #F97316, #EA580C);
            cursor: pointer;
            color: white;
            transform: scale(1);
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4);
        }

        .send-btn.active:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(249, 115, 22, 0.5);
        }

        .send-btn:active {
            transform: scale(0.95);
        }

        /* Light mode adjustments */
        html.light .message-content {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(0, 0, 0, 0.1);
        }

        html.light .prompt-btn,
        html.light .filter-tab {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(0, 0, 0, 0.1);
        }

        html.light .main-search-input,
        html.light .compact-search-input {
            background: rgba(255, 255, 255, 0.9);
            border-color: rgba(0, 0, 0, 0.1);
            color: #0F172A;
        }

        html.light .search-input-container {
            background: linear-gradient(to top, #FFFFFF 0%, transparent 100%);
        }

        /* ========== AI 思考状态样式 ========== */
        /* AI Avatar Glow Animation */
        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 8px 32px rgba(249, 115, 22, 0.3);
            }
            50% {
                box-shadow: 0 8px 48px rgba(249, 115, 22, 0.5);
            }
        }

        .ai-avatar-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }

        /* Rotate Animation */
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .thinking-spinner svg {
            animation: rotate 2s linear infinite;
        }

        /* Pulse Animation */
        @keyframes pulse-opacity {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .thinking-step.active .thinking-step-icon {
            animation: pulse-opacity 1.5s ease-in-out infinite;
        }

        /* AI 思考容器 */
        .ai-thinking-container {
            display: none;
            align-items: center;
            gap: 12px;
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 12px;
            padding: 16px 20px;
            margin: 20px 0;
            max-width: 600px;
        }

        .ai-thinking-container.active {
            display: flex;
            animation: fadeInUp 0.4s ease-out;
        }

        /* 思考旋转器 */
        .thinking-spinner {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
        }

        .thinking-spinner svg {
            width: 24px;
            height: 24px;
            color: #F97316;
        }

        /* 思考文本区域 */
        .thinking-content {
            flex: 1;
        }

        .thinking-title {
            font-size: 13px;
            font-weight: 500;
            color: #F8FAFC;
            margin-bottom: 8px;
        }

        /* 思考步骤列表 */
        .thinking-steps {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .thinking-step {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .thinking-step.completed {
            color: #10B981;
        }

        .thinking-step.active {
            color: #F97316;
        }

        .thinking-step.pending {
            color: #64748B;
        }

        /* 思考步骤图标 */
        .thinking-step-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 2px solid currentColor;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .thinking-step.completed .thinking-step-icon {
            background: currentColor;
            border-color: currentColor;
        }

        .thinking-step.active .thinking-step-icon {
            border-style: dashed;
        }

        .thinking-step-icon svg {
            width: 8px;
            height: 8px;
            color: white;
        }

        /* 进度条 */
        .ai-progress-bar {
            height: 3px;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }

        .ai-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #F97316 0%, #FB923C 100%);
            transition: width 0.3s ease;
            border-radius: 3px;
        }

        /* Light mode adjustments for AI thinking */
        html.light .ai-thinking-container {
            background: rgba(255, 255, 255, 0.9);
            border-color: rgba(203, 213, 225, 0.9);
        }

        html.light .thinking-title {
            color: #0F172A;
        }

        html.light .ai-progress-bar {
            background: rgba(203, 213, 225, 0.5);
        }

        /* Light mode for AI Chat components */
        html.light .suggestion-chip {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(0, 0, 0, 0.1);
        }

        html.light .recommendation-card {
            background: rgba(255, 255, 255, 0.9);
            border-color: rgba(0, 0, 0, 0.1);
        }

        html.light .recommendation-card:hover {
            background: rgba(255, 255, 255, 0.95);
        }

        html.light .recommendation-image {
            background: linear-gradient(135deg, rgba(241, 245, 249, 0.9) 0%, rgba(226, 232, 240, 0.9) 100%);
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">跳转到主要内容</a>
    <div id="app">
        <!-- Aurora Background -->
        <div class="aurora-bg"></div>

        <!-- Sidebar -->
        <aside class="sidebar" :class="{ collapsed: sidebarCollapsed, open: sidebarMobileOpen }">
            <!-- Toggle Button -->
            <div class="sidebar-toggle hidden lg:flex" @click="toggleSidebar" aria-label="折叠侧边栏" role="button" tabindex="0">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </div>

            <!-- Logo -->
            <div class="flex items-center gap-3 mb-8 px-2">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-blue-600 flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                    </svg>
                </div>
                <div class="logo-text">
                    <h1 class="font-bold text-lg text-white">FlashSell</h1>
                    <p class="text-xs text-slate-500">AI智能选品</p>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="flex-1">
                <div class="text-xs font-semibold text-slate-500 px-4 mb-3 uppercase tracking-wider nav-text">{{ t('nav.main') }}</div>
                <div class="nav-item" :class="{ active: currentPage === 'dashboard' }" @click="currentPage = 'dashboard'">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/>
                    </svg>
                    <span class="nav-text">{{ t('nav.dashboard') }}</span>
                </div>
                <div class="nav-item" :class="{ active: currentPage === 'search' }" @click="currentPage = 'search'">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                    <span class="nav-text">{{ t('nav.search') }}</span>
                </div>
                <div class="nav-item" :class="{ active: currentPage === 'favorites' }" @click="currentPage = 'favorites'">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                    </svg>
                    <span class="nav-text">{{ t('nav.favorites') }}</span>
                </div>
                <div class="nav-item" :class="{ active: currentPage === 'analysis' }" @click="currentPage = 'analysis'">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                    </svg>
                    <span class="nav-text">{{ t('nav.analysis') }}</span>
                </div>

                <div class="text-xs font-semibold text-slate-500 px-4 mb-3 mt-6 uppercase tracking-wider nav-text">{{ t('nav.account') }}</div>
                <div class="nav-item" :class="{ active: currentPage === 'subscription' }" @click="currentPage = 'subscription'">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
                    </svg>
                    <span class="nav-text">{{ t('nav.subscription') }}</span>
                </div>
                <div class="nav-item" :class="{ active: currentPage === 'profile' }" @click="currentPage = 'profile'">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                    <span class="nav-text">{{ t('nav.profile') }}</span>
                </div>
            </nav>

            <!-- User Profile (Logged In) -->
            <div class="border-t border-slate-700 pt-4 mt-4 user-section flex flex-row">
                <div class="avatar flex-shrink-0">{{ currentUser?.avatar || 'U' }}</div>
                <div class="flex-1 ml-3">
                    <div class="font-medium text-sm text-white user-name">{{ currentUser?.name || '用户' }}</div>
                    <div class="text-xs text-slate-500 user-plan">{{ currentUser?.plan || 'Free' }} · 会员</div>
                </div>
                <button @click="handleLogout" class="text-slate-500 hover:text-red-400 transition-colors" title="退出登录" aria-label="退出登录">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                    </svg>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main id="main-content" class="main-content" :class="{ expanded: sidebarCollapsed }">
            <!-- Login Page -->
            <div v-if="currentPage === 'login'" class="animate-fade-in">
                <!-- Language Toggle (top right) -->
                <div class="flex justify-end mb-4">
                    <button @click="toggleLocale"
                            class="p-2.5 rounded-xl bg-slate-800/50 hover:bg-slate-700/70 transition-colors"
                            aria-label="语言切换">
                        <svg class="w-5 h-5 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"/>
                        </svg>
                    </button>
                    <span class="ml-2 px-3 py-1.5 rounded-lg bg-slate-800/50 text-sm font-medium" :class="locale === 'zh' ? 'text-orange-400' : 'text-blue-400'" aria-hidden="true">
                        {{ locale === 'zh' ? '中文' : 'EN' }}
                    </span>
                </div>

                <!-- Login Form Container -->
                <div class="flex items-center justify-center min-h-[calc(80vh-60px)]">
                    <div class="w-full max-w-md">
                        <!-- Logo -->
                        <div class="text-center mb-8">
                            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-500 to-blue-600 flex items-center justify-center mx-auto mb-4">
                                <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                            </div>
                            <h2 class="text-2xl font-bold text-white">欢迎回来</h2>
                            <p class="text-slate-400 mt-2">登录 FlashSell，开启智能选品之旅</p>
                        </div>

                        <!-- Tabs -->
                        <div class="tabs mb-6">
                            <button class="tab" :class="{ active: loginTab === 'login' }" @click="loginTab = 'login'">登录</button>
                            <button class="tab" :class="{ active: loginTab === 'register' }" @click="loginTab = 'register'">注册</button>
                        </div>

                        <!-- Login Form -->
                        <form v-if="loginTab === 'login'" @submit.prevent="handleLogin" class="space-y-4">
                            <div>
                                <label for="login-email" class="block text-sm text-slate-400 mb-2">邮箱地址</label>
                                <input id="login-email" type="email" class="search-input" placeholder="请输入邮箱" required autocomplete="email">
                            </div>
                            <div>
                                <label for="login-password" class="block text-sm text-slate-400 mb-2">密码</label>
                                <input id="login-password" type="password" class="search-input" placeholder="请输入密码" required autocomplete="current-password">
                            </div>
                            <div class="flex items-center justify-between">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="checkbox" class="w-4 h-4 rounded bg-slate-700 border-slate-600 text-orange-500 focus:ring-orange-500">
                                    <span class="text-sm text-slate-400">记住我</span>
                                </label>
                                <a href="#" class="text-sm text-orange-500 hover:text-orange-400">忘记密码?</a>
                            </div>
                            <button type="submit"
                                    class="btn-primary w-full py-3 flex items-center justify-center gap-2"
                                    :disabled="isSubmitting"
                                    :class="{ 'opacity-50 cursor-not-allowed': isSubmitting }">
                                <svg v-if="isSubmitting" class="w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
                                </svg>
                                <span>{{ isSubmitting ? '登录中...' : '立即登录' }}</span>
                            </button>
                        </form>

                        <!-- Switch to Register -->
                        <div class="text-center mt-6">
                            <p class="text-sm text-slate-400">
                                还没有账号？
                                <button @click="showRegisterTab" class="text-orange-500 hover:text-orange-400 font-medium transition-colors">
                                    立即注册
                                </button>
                            </p>
                        </div>

                        <!-- Register Form -->
                        <form v-if="loginTab === 'register'" @submit.prevent="handleRegister" class="space-y-4">
                            <div>
                                <label for="register-username" class="block text-sm text-slate-400 mb-2">用户名</label>
                                <input id="register-username" type="text" class="search-input" placeholder="设置用户名" required autocomplete="username">
                            </div>
                            <div>
                                <label for="register-email" class="block text-sm text-slate-400 mb-2">邮箱地址</label>
                                <input id="register-email" type="email" class="search-input" placeholder="请输入邮箱" required autocomplete="email">
                            </div>
                            <div>
                                <label for="register-password" class="block text-sm text-slate-400 mb-2">密码</label>
                                <input id="register-password" type="password" class="search-input" placeholder="设置密码" required autocomplete="new-password">
                            </div>
                            <div>
                                <label for="register-confirm-password" class="block text-sm text-slate-400 mb-2">确认密码</label>
                                <input id="register-confirm-password" type="password" class="search-input" placeholder="再次输入密码" required autocomplete="new-password">
                            </div>
                            <label class="flex items-start gap-2 cursor-pointer">
                                <input type="checkbox" class="w-4 h-4 mt-0.5 rounded bg-slate-700 border-slate-600 text-orange-500 focus:ring-orange-500" required>
                                <span class="text-sm text-slate-400">我已阅读并同意 <a href="#" class="text-orange-500">服务条款</a> 和 <a href="#" class="text-orange-500">隐私政策</a></span>
                            </label>
                            <button type="submit"
                                    class="btn-primary w-full py-3 flex items-center justify-center gap-2"
                                    :disabled="isSubmitting"
                                    :class="{ 'opacity-50 cursor-not-allowed': isSubmitting }">
                                <svg v-if="isSubmitting" class="w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
                                </svg>
                                <span>{{ isSubmitting ? '注册中...' : '创建账户' }}</span>
                            </button>
                        </form>

                        <!-- Switch to Login -->
                        <div class="text-center mt-6">
                            <p class="text-sm text-slate-400">
                                已有账号？
                                <button @click="showLoginTab" class="text-orange-500 hover:text-orange-400 font-medium transition-colors">
                                    立即登录
                                </button>
                            </p>
                        </div>

                        <!-- Divider -->
                        <div class="flex items-center gap-4 my-6">
                            <div class="flex-1 h-px bg-slate-700"></div>
                            <span class="text-sm text-slate-500">或</span>
                            <div class="flex-1 h-px bg-slate-700"></div>
                        </div>

                        <!-- Social Login -->
                        <div class="grid grid-cols-2 gap-3">
                            <button class="flex items-center justify-center gap-2 py-3 rounded-xl bg-slate-700/50 hover:bg-slate-600/50 transition-colors" aria-label="使用 Google 登录">
                                <svg class="w-5 h-5" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                    <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                    <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                    <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                                </svg>
                                <span class="text-sm text-white">Google</span>
                            </button>
                            <button class="flex items-center justify-center gap-2 py-3 rounded-xl bg-slate-700/50 hover:bg-slate-600/50 transition-colors" aria-label="使用 GitHub 登录">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                </svg>
                                <span class="text-sm text-white">GitHub</span>
                            </button>
                        </div>

                        <!-- Back to Home -->
                        <div class="text-center mt-6">
                            <button @click="currentPage = 'dashboard'" class="text-sm text-slate-400 hover:text-white transition-colors" aria-label="返回首页">
                                返回首页
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Page -->
            <div v-if="currentPage === 'dashboard'" class="animate-fade-in">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h2 class="text-2xl font-bold text-white" v-if="isLoggedIn">欢迎回来，{{ currentUser?.name || '用户' }}</h2>
                        <h2 class="text-2xl font-bold text-white" v-else>欢迎使用 FlashSell</h2>
                        <p class="text-slate-400 mt-1">今天有 12 个新品值得关注</p>
                    </div>
                    <div class="flex items-center gap-4">
                        <!-- Language Toggle -->
                        <button @click="toggleLocale"
                                class="p-2.5 rounded-xl bg-slate-800/50 hover:bg-slate-700/70 transition-colors"
                                :title="locale === 'zh' ? 'Switch to English' : '切换到中文'"
                                aria-label="语言切换">
                            <svg class="w-5 h-5 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"/>
                            </svg>
                        </button>
                        <!-- Current Language Badge -->
                        <span class="px-3 py-1.5 rounded-lg bg-slate-800/50 text-sm font-medium" :class="locale === 'zh' ? 'text-orange-400' : 'text-blue-400'" aria-hidden="true">
                            {{ locale === 'zh' ? '中文' : 'EN' }}
                        </span>
                        <!-- Login Button (show when not logged in) -->
                        <button v-if="!isLoggedIn" @click="currentPage = 'login'" class="btn-primary" aria-label="登录">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                            </svg>
                            登录
                        </button>
                        <!-- Refresh Button (show when logged in) -->
                        <template v-else>
                            <span class="text-sm text-slate-400" aria-hidden="true">最后更新: 2分钟前</span>
                            <button class="btn-primary" aria-label="刷新数据">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                </svg>
                                刷新数据
                            </button>
                        </template>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="grid grid-cols-4 gap-6 mb-8">
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="stat-value">1,284</div>
                                <div class="stat-label">今日新品发现</div>
                            </div>
                            <div class="w-12 h-12 rounded-xl bg-orange-500/20 flex items-start justify-center pt-2">
                                <svg class="w-6 h-6 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                </svg>
                            </div>
                        </div>
                        <div class="stat-change positive">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
                            </svg>
                            +23.5%
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="stat-value">87</div>
                                <div class="stat-label">潜力爆品推荐</div>
                            </div>
                            <div class="w-12 h-12 rounded-xl bg-blue-500/20 flex items-start justify-center pt-2">
                                <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                                </svg>
                            </div>
                        </div>
                        <div class="stat-change positive">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
                            </svg>
                            +12.3%
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="stat-value">3</div>
                                <div class="stat-label">收藏产品数</div>
                            </div>
                            <div class="w-12 h-12 rounded-xl bg-green-500/20 flex items-start justify-center pt-2">
                                <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="stat-change positive">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
                            </svg>
                            今日新增
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="stat-value">68%</div>
                                <div class="stat-label">AI推荐准确率</div>
                            </div>
                            <div class="w-12 h-12 rounded-xl bg-purple-500/20 flex items-start justify-center pt-2">
                                <svg class="w-6 h-6 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="stat-change positive">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
                            </svg>
                            +5.2%
                        </div>
                    </div>
                </div>

                <!-- Content Grid -->
                <div class="grid grid-cols-4 gap-6">
                    <!-- Left Column -->
                    <div class="col-span-3 space-y-6">
                        <!-- AI Recommendations -->
                        <div class="glass-card p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-lg font-semibold text-white">AI爆品推荐</h3>
                                <a href="#" class="text-sm text-orange-500 hover:text-orange-400">查看全部 →</a>
                            </div>
                            <div class="grid grid-cols-4 gap-6">
                                <div v-for="product in aiProducts" :key="product.id" class="product-card" @click="openProductModal(product)">
                                    <div class="product-image flex items-center justify-center bg-gradient-to-br from-slate-700 to-slate-800 relative">
                                        <img :src="product.image" :alt="product.title" class="w-full h-full object-cover" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22none%22 viewBox=%220 0 24 24%22 stroke=%22%23475569%22%3E%3Cpath stroke-linecap=%22round%22 stroke-linejoin=%22round%22 stroke-width=%221%22 d=%22M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z%22/%3E%3C/svg%3E'">
                                        <button class="absolute top-2 right-2 p-2 rounded-full bg-red-500/80 text-white hover:bg-red-500 transition-colors">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                            </svg>
                                        </button>
                                    </div>
                                    <div class="product-info">
                                        <div class="flex items-center gap-2 mb-2">
                                            <span class="badge" :class="product.badgeClass">{{ product.badge }}</span>
                                        </div>
                                        <!-- Platform badges -->
                                        <div class="flex gap-1 mb-2">
                                            <span class="px-2 py-0.5 rounded text-[10px] font-medium bg-orange-500/20 text-orange-400">Amazon</span>
                                            <span class="px-2 py-0.5 rounded text-[10px] font-medium bg-blue-500/20 text-blue-400">eBay</span>
                                        </div>
                                        <div class="product-title">{{ product.title }}</div>
                                        <!-- Multi-platform aggregated data -->
                                        <div class="flex items-center justify-between mt-2">
                                            <div>
                                                <span class="text-orange-500 font-bold">${{ product.price }}</span>
                                                <span class="text-xs text-slate-500 ml-1">起</span>
                                            </div>
                                            <div class="text-xs text-slate-500">
                                                总销 {{ formatSales(product.sales * 3) }}
                                            </div>
                                        </div>
                                        <div class="product-meta mt-2">
                                            <span>⭐ {{ product.rating }}</span>
                                            <span class="flex items-center gap-1">
                                                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                                </svg>
                                                {{ product.reviews }}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Selections -->
                        <div class="glass-card p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-lg font-semibold text-white">
                                    <svg class="w-5 h-5 inline mr-2 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    最近选品
                                </h3>
                                <a href="#" class="text-sm text-orange-500 hover:text-orange-400">查看全部 →</a>
                            </div>
                            <div class="grid grid-cols-4 gap-6" v-if="recentSelections.length > 0">
                                <div v-for="product in recentSelections" :key="product.id" class="product-card" @click="openProductModal(product)">
                                    <div class="product-image flex items-center justify-center bg-gradient-to-br from-slate-700 to-slate-800 relative">
                                        <img :src="product.image" :alt="product.title" class="w-full h-full object-cover" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22none%22 viewBox=%220 0 24 24%22 stroke=%22%23475569%22%3E%3Cpath stroke-linecap=%22round%22 stroke-linejoin=%22round%22 stroke-width=%221%22 d=%22M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z%22/%3E%3C/svg%3E'">
                                        <!-- Timestamp badge -->
                                        <div class="absolute bottom-2 right-2 px-2 py-1 rounded-full bg-slate-900/80 text-xs text-slate-300">
                                            {{ product.timestamp }}
                                        </div>
                                    </div>
                                    <div class="product-info">
                                        <!-- Platform badges -->
                                        <div class="flex gap-1 mb-2">
                                            <span class="px-2 py-0.5 rounded text-[10px] font-medium bg-orange-500/20 text-orange-400">Amazon</span>
                                        </div>
                                        <div class="product-title">{{ product.title }}</div>
                                        <div class="flex items-center justify-between mt-2">
                                            <div>
                                                <span class="text-orange-500 font-bold">${{ product.price }}</span>
                                            </div>
                                            <div class="text-xs text-slate-500">
                                                总销 {{ formatSales(product.sales * 3) }}
                                            </div>
                                        </div>
                                        <div class="product-meta mt-2">
                                            <span>⭐ {{ product.rating }}</span>
                                            <span class="flex items-center gap-1">
                                                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                                </svg>
                                                {{ product.reviews }}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div v-else class="text-center py-8 text-slate-500">
                                <svg class="w-12 h-12 mx-auto mb-4 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                                </svg>
                                <p>暂无选品记录</p>
                                <p class="text-sm mt-2">开始搜索来添加你的第一个选品</p>
                            </div>
                        </div>
                    </div>

                    <!-- Market Trends -->
                    <div class="col-span-1">
                        <div class="glass-card p-6 h-full flex flex-col">
                            <h3 class="text-lg font-semibold text-white mb-6">市场趋势</h3>
                            <div class="space-y-4 flex-1">
                                <div v-for="trend in trends" :key="trend.name" class="p-4 rounded-xl bg-slate-800/50 border border-slate-700/50">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium text-white">{{ trend.name }}</span>
                                        <span class="text-sm" :class="trend.change > 0 ? 'text-green-400' : 'text-red-400'">
                                            {{ trend.change > 0 ? '+' : '' }}{{ trend.change }}%
                                        </span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" :style="{ width: trend.score + '%', background: trend.color }"></div>
                                    </div>
                                    <div class="text-xs text-slate-500 mt-2">{{ trend.desc }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Page -->
            <div v-if="currentPage === 'search'" class="search-page">
                <!-- Language Toggle -->
                <div class="fixed top-6 right-6 z-50 flex items-center gap-3">
                    <button @click="toggleLocale"
                            class="p-2.5 rounded-xl bg-slate-800/50 hover:bg-slate-700/70 backdrop-blur-sm transition-colors"
                            aria-label="语言切换">
                        <svg class="w-5 h-5 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"/>
                        </svg>
                    </button>
                    <span class="px-3 py-1.5 rounded-lg bg-slate-800/50 backdrop-blur-sm text-sm font-medium" :class="locale === 'zh' ? 'text-orange-400' : 'text-blue-400'" aria-hidden="true">
                        {{ locale === 'zh' ? '中文' : 'EN' }}
                    </span>
                </div>

                <!-- AI Chat 欢迎界面 -->
                <div v-if="searchState === 'initial'" class="ai-chat-welcome-container">
                    <!-- AI Avatar & Greeting -->
                    <div class="ai-chat-header">
                        <div class="ai-avatar-large ai-avatar-glow">
                            <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                        </div>
                        <h2 class="ai-chat-title">{{ locale === 'zh' ? 'FlashSell AI 选品助手' : 'FlashSell AI Product Finder' }}</h2>
                        <p class="ai-chat-subtitle">{{ locale === 'zh' ? '告诉我你想找什么产品，我来帮你搜索' : 'Tell me what product you\'re looking for, I\'ll help you search' }}</p>
                    </div>

                    <!-- 聊天输入框（玻璃态风格） -->
                    <div class="ai-chat-input-section">
                        <div class="glass-card search-input-wrapper">
                            <!-- 左侧功能按钮组 -->
                            <div class="left-actions">
                                <button class="action-btn" title="上传图片">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                </button>
                            </div>

                            <!-- 文本输入区 -->
                            <div class="input-container">
                                <textarea
                                    ref="chatInput"
                                    v-model="searchQuery"
                                    @input="handleTextInput"
                                    @focus="isInputFocused = true"
                                    @blur="isInputFocused = false"
                                    @keydown="handleKeydown"
                                    rows="1"
                                    class="chat-textarea"
                                    :placeholder="placeholderText"
                                    :style="{ height: textareaHeight }"
                                ></textarea>

                                <!-- 字符计数 -->
                                <div v-if="searchQuery.length > 100" class="char-count">
                                    {{ searchQuery.length }} / 500
                                </div>
                            </div>

                            <!-- 右侧发送按钮 -->
                            <button
                                @click="performSearch"
                                :disabled="!searchQuery.trim()"
                                class="send-btn"
                                :class="{ 'active': searchQuery.trim() }">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                    <line x1="22" y1="2" x2="11" y2="13"/>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                                </svg>
                            </button>
                        </div>

                        <!-- 快捷建议标签 -->
                        <div class="ai-suggestions-inline">
                            <button v-for="prompt in quickPrompts"
                                    :key="prompt"
                                    @click="searchQuery = prompt; handleTextInput(); performSearch()"
                                    class="suggestion-chip">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                                <span>{{ prompt }}</span>
                            </button>
                        </div>
                    </div>

                    <!-- AI 爆品推荐 / 搜索结果 -->
                    <div class="ai-recommendations-section">
                        <div class="recommendations-header">
                            <h3 class="recommendations-title">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                                {{ hasSearched ? (locale === 'zh' ? '搜索结果' : 'Search Results') : (locale === 'zh' ? 'AI 爆品推荐' : 'AI Hot Products') }}
                                <span v-if="hasSearched && lastSearchQuery" class="search-query-badge">"{{ lastSearchQuery }}"</span>
                            </h3>
                            <a href="#" @click.prevent="showAllResults = true" v-if="hasSearched && !showAllResults" class="view-all-link">
                                {{ locale === 'zh' ? '查看所有' : 'View All' }} →
                            </a>
                            <a href="#" @click.prevent="showAllResults = false" v-else-if="hasSearched && showAllResults" class="view-all-link">
                                {{ locale === 'zh' ? '返回' : 'Back' }} →
                            </a>
                            <a href="#" @click.prevent="currentPage = 'dashboard'" v-else class="view-all-link">
                                {{ locale === 'zh' ? '查看全部' : 'View All' }} →
                            </a>
                        </div>
                        <div class="recommendations-grid" :class="{ 'all-results': showAllResults }">
                            <div v-for="product in displayProducts"
                                 :key="product.id"
                                 class="recommendation-card"
                                 @click="openProductModal(product)">
                                <div class="recommendation-image">
                                    <div class="platform-badges">
                                        <span class="platform-badge amazon">Amazon</span>
                                        <span class="platform-badge ebay">eBay</span>
                                    </div>
                                    <svg class="w-12 h-12 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                </div>
                                <div class="recommendation-info">
                                    <span class="recommendation-badge" :class="product.badgeClass">{{ product.badge }}</span>
                                    <h4 class="recommendation-title">{{ product.title }}</h4>
                                    <div class="recommendation-meta">
                                        <span class="recommendation-price">${{ product.price }}</span>
                                        <span class="recommendation-sales">{{ locale === 'zh' ? '月销' : 'Sales' }} {{ product.sales }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 对话容器 (新增) -->
                <div v-else-if="searchState === 'conversation'" class="chat-container">
                    <div class="message-list">
                        <!-- 遍历消息历史 -->
                        <div v-for="message in conversationState.messages"
                             :key="message.id"
                             class="message-item">

                            <!-- AI 欢迎消息 -->
                            <div v-if="message.type === 'ai_welcome'" class="ai-message-bubble animate-fade-in">
                                <div class="ai-avatar">🤖</div>
                                <div class="message-content">
                                    <!-- 打字指示器 -->
                                    <div v-if="message.isTyping" class="typing-indicator">
                                        <span class="typed-text" v-html="formatText(getTypingText(message))"></span>
                                        <span class="cursor">|</span>
                                    </div>
                                    <!-- 完整文本 -->
                                    <div v-else class="message-text" v-html="formatText(message.content)"></div>
                                </div>
                            </div>

                            <!-- AI 筛选表单消息 -->
                            <div v-if="message.type === 'ai_filter_form'" class="ai-message-bubble filter-form-message animate-fade-in">
                                <div class="ai-avatar">🤖</div>
                                <div class="message-content">
                                    <!-- 问题文本 -->
                                    <div v-if="message.isTyping" class="typing-indicator">
                                        <span class="typed-text" v-html="formatText(getTypingText(message))"></span>
                                        <span class="cursor">|</span>
                                    </div>
                                    <div v-else class="message-text" v-html="formatText(message.content)"></div>

                                    <!-- 筛选表单（打字完成后显示） -->
                                    <div v-if="!message.isTyping" class="filter-form">
                                        <!-- 遍历筛选类别 -->
                                        <div v-for="category in FILTER_CATEGORIES[locale]"
                                             :key="category.key"
                                             class="filter-category">

                                            <!-- 类别标题 -->
                                            <div class="category-header">
                                                <span class="category-icon">{{ category.icon }}</span>
                                                <span class="category-title">{{ category.title }}</span>
                                            </div>

                                            <!-- 单选按钮组 -->
                                            <div v-if="category.type === 'single'" class="filter-options">
                                                <button
                                                    v-for="option in category.options"
                                                    :key="option.value"
                                                    @click="toggleSingleFilter(category.key, option.value)"
                                                    :class="{
                                                        'filter-option': true,
                                                        'selected': tempFilters[category.key] === option.value
                                                    }"
                                                    class="animate-slide-up">
                                                    {{ option.label }}
                                                </button>
                                            </div>

                                            <!-- 多选按钮组（平台） -->
                                            <div v-if="category.type === 'multiple'" class="filter-options">
                                                <button
                                                    v-for="option in category.options"
                                                    :key="option.value"
                                                    @click="togglePlatformForFilter(option.value)"
                                                    :class="{
                                                        'filter-option': true,
                                                        'selected': tempFilters.platforms.includes(option.value),
                                                        'platform-option': true
                                                    }"
                                                    :data-platform="option.value"
                                                    class="animate-slide-up">
                                                    <span class="platform-icon">{{ option.icon || '' }}</span>
                                                    <span>{{ option.label }}</span>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- 提交按钮 -->
                                        <div class="submit-section">
                                            <button
                                                @click="submitFilters"
                                                class="submit-btn animate-fade-in">
                                                🚀 {{ locale === 'zh' ? '开始搜索' : 'Start Search' }}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- AI 确认消息 -->
                            <div v-if="message.type === 'ai_confirm'" class="ai-message-bubble animate-fade-in">
                                <div class="ai-avatar">🤖</div>
                                <div class="message-content">
                                    <div v-if="message.isTyping" class="typing-indicator">
                                        <span class="typed-text" v-html="formatText(getTypingText(message))"></span>
                                        <span class="cursor">|</span>
                                    </div>
                                    <div v-else class="message-text" v-html="formatText(message.content)"></div>
                                </div>
                            </div>
                        </div>

                        <!-- AI 思考状态容器 -->
                        <div v-if="isThinking" class="ai-thinking-container active">
                            <div class="thinking-spinner">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                </svg>
                            </div>
                            <div class="thinking-content">
                                <div class="thinking-title">{{ locale === 'zh' ? 'AI正在分析你的需求...' : 'AI is analyzing your request...' }}</div>
                                <div class="thinking-steps">
                                    <div class="thinking-step completed">
                                        <span class="thinking-step-icon">
                                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                                            </svg>
                                        </span>
                                        <span>{{ locale === 'zh' ? '理解搜索意图' : 'Understanding search intent' }}</span>
                                    </div>
                                    <div class="thinking-step completed">
                                        <span class="thinking-step-icon">
                                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                                            </svg>
                                        </span>
                                        <span>{{ locale === 'zh' ? '扫描市场数据' : 'Scanning market data' }}</span>
                                    </div>
                                    <div class="thinking-step active">
                                        <span class="thinking-step-icon"></span>
                                        <span>{{ locale === 'zh' ? '分析竞争程度...' : 'Analyzing competition...' }}</span>
                                    </div>
                                </div>
                                <div class="ai-progress-bar">
                                    <div class="ai-progress-fill" :style="{ width: thinkingProgress + '%' }"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 搜索结果状态 -->
                <div v-else-if="searchState === 'results'" class="search-results-container">
                    <!-- 压缩的搜索框 -->
                    <div class="compact-search-bar">
                        <input type="text"
                               v-model="searchQuery"
                               @keyup.enter="performSearch"
                               class="compact-search-input"
                               :placeholder="locale === 'zh' ? '继续搜索...' : 'Continue searching...'">
                        <button @click="clearSearch" class="clear-btn">✕</button>
                        <label class="image-upload-btn-mini">
                            <input type="file"
                                   accept="image/*"
                                   @change="handleImageUpload"
                                   class="hidden">
                            <span>+</span>
                        </label>
                    </div>

                    <!-- 筛选标签 -->
                    <div class="filter-tabs">
                        <div class="filter-tab-group">
                            <button v-for="option in [
                                { label: locale === 'zh' ? '不限' : 'All', value: null },
                                { label: '100+', value: 100 },
                                { label: '500+', value: 500 },
                                { label: '1000+', value: 1000 }
                            ]"
                                    :key="option.value"
                                    @click="activeFilters.minSales = option.value"
                                    :class="{ active: activeFilters.minSales === option.value }"
                                    class="filter-tab">
                                {{ option.label }}
                            </button>
                        </div>
                        <div class="filter-tab-group">
                            <button v-for="option in [
                                { label: locale === 'zh' ? '不限' : 'All', value: null },
                                { label: '$0-30', value: '0-30' },
                                { label: '$30-50', value: '30-50' },
                                { label: '$50+', value: '50+' }
                            ]"
                                    :key="option.value"
                                    @click="activeFilters.priceRange = option.value"
                                    :class="{ active: activeFilters.priceRange === option.value }"
                                    class="filter-tab">
                                {{ option.label }}
                            </button>
                        </div>
                        <div class="filter-tab-group">
                            <button v-for="option in [
                                { label: locale === 'zh' ? '不限' : 'All', value: null },
                                { label: '4.0+', value: 4.0 },
                                { label: '4.3+', value: 4.3 },
                                { label: '4.5+', value: 4.5 }
                            ]"
                                    :key="option.value"
                                    @click="activeFilters.minRating = option.value"
                                    :class="{ active: activeFilters.minRating === option.value }"
                                    class="filter-tab">
                                {{ option.label }}
                            </button>
                        </div>
                    </div>

                    <!-- 搜索结果网格 -->
                    <div class="results-grid">
                        <div v-for="product in searchResults"
                             :key="product.id"
                             class="product-card"
                             @click="openProductModal(product)">
                            <div class="product-image flex items-center justify-center bg-gradient-to-br from-slate-700 to-slate-800 relative">
                                <!-- Platform badges -->
                                <div class="absolute top-2 left-2 flex gap-1 flex-wrap max-w-[80px]">
                                    <span v-for="i in 3" :key="i" class="px-1.5 py-0.5 rounded text-[10px] font-medium"
                                          :class="i === 1 ? 'bg-orange-500/20 text-orange-400' : i === 2 ? 'bg-blue-500/20 text-blue-400' : 'bg-pink-500/20 text-pink-400'">
                                        {{ i === 1 ? 'Amazon' : i === 2 ? 'eBay' : '速卖通' }}
                                    </span>
                                </div>
                                <svg class="w-16 h-16 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                                <button class="absolute top-2 right-2 p-1.5 rounded-full bg-slate-800/80 text-slate-400 hover:text-red-400 hover:bg-slate-700 transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="product-info">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="badge text-xs" :class="product.badgeClass">{{ product.badge }}</span>
                                </div>
                                <div class="product-title text-sm">{{ product.title }}</div>
                                <!-- Multi-platform aggregated data -->
                                <div class="flex items-center justify-between mt-2">
                                    <div class="flex items-baseline gap-2">
                                        <span class="text-orange-500 font-bold text-lg">${{ product.price }}</span>
                                        <span class="text-xs text-slate-500">{{ locale === 'zh' ? '起' : 'up' }}</span>
                                        <!-- Price difference indicator -->
                                        <span class="text-xs px-1.5 py-0.5 rounded bg-green-500/20 text-green-400">
                                            -${{ (product.price * 0.15).toFixed(2) }}
                                        </span>
                                    </div>
                                    <div class="flex items-center gap-1">
                                        <svg class="w-3 h-3 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
                                        </svg>
                                        <span class="text-xs text-slate-500">
                                            {{ formatSales(product.sales * 3) }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Favorites Page -->
            <div v-if="currentPage === 'favorites'" class="animate-fade-in">
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h2 class="text-2xl font-bold text-white">我的收藏</h2>
                        <p class="text-slate-400 mt-1">管理你发现的产品灵感</p>
                    </div>
                    <div class="flex items-center gap-4">
                        <button @click="toggleLocale" class="p-2.5 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors">
                            <svg class="w-5 h-5 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"/>
                            </svg>
                        </button>
                        <span class="px-3 py-1.5 rounded-lg bg-slate-800/50 text-sm font-medium" :class="locale === 'zh' ? 'text-orange-400' : 'text-blue-400'">
                            {{ locale === 'zh' ? '中文' : 'EN' }}
                        </span>
                        <button class="btn-ghost">
                            <svg class="w-5 h-5 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                            </svg>
                            新建看板
                        </button>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="tabs mb-6">
                    <button class="tab active">全部收藏 (3)</button>
                    <button class="tab">电子产品</button>
                    <button class="tab">家居用品</button>
                    <button class="tab">户外运动</button>
                </div>

                <!-- Favorites Grid -->
                <div class="grid grid-cols-5 gap-6">
                    <div v-for="product in favorites" :key="product.id" class="product-card" @click="openProductModal(product)">
                        <div class="product-image flex items-center justify-center bg-gradient-to-br from-slate-700 to-slate-800 relative">
                            <img :src="product.image" :alt="product.title" class="w-full h-full object-cover" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22none%22 viewBox=%220 0 24 24%22 stroke=%22%23475569%22%3E%3Cpath stroke-linecap=%22round%22 stroke-linejoin=%22round%22 stroke-width=%221%22 d=%22M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z%22/%3E%3C/svg%3E'">
                            <button class="absolute top-2 right-2 p-2 rounded-full bg-red-500/80 text-white hover:bg-red-500 transition-colors">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                </svg>
                            </button>
                        </div>
                        <div class="product-info">
                            <!-- Platform badges -->
                            <div class="flex gap-1 mb-2">
                                <span class="px-2 py-0.5 rounded text-[10px] font-medium bg-orange-500/20 text-orange-400">Amazon</span>
                                <span class="px-2 py-0.5 rounded text-[10px] font-medium bg-pink-500/20 text-pink-400">速卖通</span>
                            </div>
                            <div class="product-title">{{ product.title }}</div>
                            <!-- Multi-platform aggregated data -->
                            <div class="flex items-center justify-between mt-2">
                                <div>
                                    <span class="text-orange-500 font-bold">${{ product.price }}</span>
                                    <span class="text-xs text-slate-500 ml-1">起</span>
                                </div>
                                <div class="text-xs text-slate-500">
                                    总销 {{ formatSales(product.sales * 3) }}
                                </div>
                            </div>
                            <div class="product-meta mt-2">
                                <span>⭐ {{ product.rating }}</span>
                                <span class="flex items-center gap-1">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                    </svg>
                                    {{ product.reviews }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analysis Page -->
            <div v-if="currentPage === 'analysis'" class="animate-fade-in">
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h2 class="text-2xl font-bold text-white">市场分析</h2>
                        <p class="text-slate-400 mt-1">品类趋势与竞争格局分析</p>
                    </div>
                    <div class="flex items-center gap-4">
                        <button @click="toggleLocale" class="p-2.5 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors">
                            <svg class="w-5 h-5 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"/>
                            </svg>
                        </button>
                        <span class="px-3 py-1.5 rounded-lg bg-slate-800/50 text-sm font-medium" :class="locale === 'zh' ? 'text-orange-400' : 'text-blue-400'">
                            {{ locale === 'zh' ? '中文' : 'EN' }}
                        </span>
                        <select class="search-input py-2 w-40">
                            <option>最近30天</option>
                            <option>最近90天</option>
                            <option>最近一年</option>
                        </select>
                        <button class="btn-primary">
                            <svg class="w-5 h-5 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                            </svg>
                            导出报告
                        </button>
                    </div>
                </div>

                <!-- Category Stats -->
                <div class="grid grid-cols-4 gap-6 mb-8">
                    <div class="stat-card">
                        <div class="stat-value">3,284</div>
                        <div class="stat-label">监控品类数</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">128</div>
                        <div class="stat-label">新增蓝海品类</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">45</div>
                        <div class="stat-label">高风险品类</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">+18.5%</div>
                        <div class="stat-label">平均增长率</div>
                    </div>
                </div>

                <!-- Charts Grid -->
                <div class="grid grid-cols-2 gap-6 mb-8">
                    <div class="chart-container">
                        <h3 class="text-lg font-semibold text-white mb-4">品类销量趋势</h3>
                        <div class="h-64 flex items-end justify-between gap-2">
                            <div v-for="(bar, index) in chartData" :key="index" class="flex-1 flex flex-col items-center gap-2">
                                <div class="w-full bg-gradient-to-t from-orange-500 to-orange-400 rounded-t-lg transition-colors duration-200 hover:from-orange-400 hover:to-orange-300" :style="{ height: bar + '%' }"></div>
                                <span class="text-xs text-slate-500">{{ index + 1 }}月</span>
                            </div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <h3 class="text-lg font-semibold text-white mb-4">竞争强度分布</h3>
                        <div class="h-64 flex items-center justify-center">
                            <div class="w-48 h-48 rounded-full border-8 border-slate-700 relative flex items-center justify-center">
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-white">68%</div>
                                    <div class="text-sm text-slate-500">中竞争</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Category Table -->
                <div class="glass-card p-6">
                    <h3 class="text-lg font-semibold text-white mb-6">品类详细数据</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>品类名称</th>
                                <th>市场规模</th>
                                <th>月增长率</th>
                                <th>竞争强度</th>
                                <th>进入壁垒</th>
                                <th>潜力评分</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="category in categories" :key="category.name">
                                <td>
                                    <div class="font-medium text-white">{{ category.name }}</div>
                                    <div class="text-sm text-slate-500">{{ category.sub }}</div>
                                </td>
                                <td class="text-white">${{ category.marketSize }}</td>
                                <td>
                                    <span class="text-green-400">{{ category.growth }}%</span>
                                </td>
                                <td>
                                    <div class="flex items-center gap-2">
                                        <div class="w-24 h-2 bg-slate-700 rounded-full overflow-hidden">
                                            <div class="h-full rounded-full" :class="category.competitionClass" :style="{ width: category.competition + '%' }"></div>
                                        </div>
                                        <span class="text-sm text-slate-400">{{ category.competition }}%</span>
                                    </div>
                                </td>
                                <td>
                                    <span class="badge" :class="category.barrierClass">{{ category.barrier }}</span>
                                </td>
                                <td>
                                    <div class="flex items-center gap-2">
                                        <span class="font-semibold" :class="category.scoreClass">{{ category.score }}</span>
                                        <svg v-if="category.score >= 80" class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                                        </svg>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Subscription Page -->
            <div v-if="currentPage === 'subscription'" class="animate-fade-in">
                <div class="flex justify-between items-center mb-8">
                    <div class="flex-1 text-center">
                        <h2 class="text-2xl font-bold text-white">选择适合你的方案</h2>
                        <p class="text-slate-400 mt-2">解锁更多功能，提升选品效率</p>
                    </div>
                    <div class="flex items-center gap-3">
                        <button @click="toggleLocale"
                                class="p-2.5 rounded-xl bg-slate-800/50 hover:bg-slate-700/70 transition-colors"
                                aria-label="语言切换">
                            <svg class="w-5 h-5 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"/>
                            </svg>
                        </button>
                        <span class="px-3 py-1.5 rounded-lg bg-slate-800/50 text-sm font-medium" :class="locale === 'zh' ? 'text-orange-400' : 'text-blue-400'" aria-hidden="true">
                            {{ locale === 'zh' ? '中文' : 'EN' }}
                        </span>
                    </div>
                </div>

                <!-- Pricing Cards -->
                <div class="grid grid-cols-3 gap-6 max-w-5xl mx-auto">
                    <div class="glass-card p-6 relative">
                        <div class="absolute -top-3 left-1/2 -translate-x-1/2">
                            <span class="bg-slate-600 text-white px-4 py-1 rounded-full text-sm">当前方案</span>
                        </div>
                        <h3 class="text-xl font-semibold text-white">基础版</h3>
                        <div class="mt-4">
                            <span class="text-4xl font-bold text-white">$49</span>
                            <span class="text-slate-400">/月</span>
                        </div>
                        <ul class="mt-6 space-y-4">
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                100次AI搜索/天
                            </li>
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                基础数据分析
                            </li>
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                Amazon美国站
                            </li>
                            <li class="flex items-center gap-3 text-slate-500">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                                </svg>
                                多站点支持
                            </li>
                        </ul>
                        <button class="btn-secondary w-full mt-8">当前方案</button>
                    </div>

                    <div class="glass-card p-6 relative border-orange-500/50 glow-orange">
                        <div class="absolute -top-3 left-1/2 -translate-x-1/2">
                            <span class="bg-orange-500 text-white px-4 py-1 rounded-full text-sm">推荐</span>
                        </div>
                        <h3 class="text-xl font-semibold text-white">专业版</h3>
                        <div class="mt-4">
                            <span class="text-4xl font-bold text-white">$129</span>
                            <span class="text-slate-400">/月</span>
                        </div>
                        <ul class="mt-6 space-y-4">
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                无限AI搜索
                            </li>
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                高级AI推荐
                            </li>
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                多站点支持
                            </li>
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                API访问权限
                            </li>
                        </ul>
                        <button class="btn-primary w-full mt-8">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            升级专业版
                        </button>
                    </div>

                    <div class="glass-card p-6">
                        <h3 class="text-xl font-semibold text-white">企业版</h3>
                        <div class="mt-4">
                            <span class="text-4xl font-bold text-white">定制</span>
                        </div>
                        <ul class="mt-6 space-y-4">
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                专属客服
                            </li>
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                定制报告
                            </li>
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                白标服务
                            </li>
                            <li class="flex items-center gap-3 text-slate-300">
                                <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                团队协作
                            </li>
                        </ul>
                        <button class="btn-secondary w-full mt-8">联系销售</button>
                    </div>
                </div>
            </div>

            <!-- Profile Page -->
            <div v-if="currentPage === 'profile'" class="animate-fade-in">
                <!-- Header -->
                <div class="flex items-center justify-between mb-8">
                    <div>
                        <h2 class="text-2xl font-bold text-white">个人中心</h2>
                        <p class="text-slate-400 mt-1">管理你的账户信息和偏好设置</p>
                    </div>
                    <div class="flex items-center gap-4">
                        <button @click="toggleLocale" class="p-2.5 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors">
                            <svg class="w-5 h-5 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"/>
                            </svg>
                        </button>
                        <span class="px-3 py-1.5 rounded-lg bg-slate-800/50 text-sm font-medium" :class="locale === 'zh' ? 'text-orange-400' : 'text-blue-400'">
                            {{ locale === 'zh' ? '中文' : 'EN' }}
                        </span>
                        <span class="text-sm text-slate-500">最后登录: 2025-01-13 14:30</span>
                    </div>
                </div>

                <div class="grid grid-cols-12 gap-6">
                    <!-- Left Column - Profile Card -->
                    <div class="col-span-12 lg:col-span-4 xl:col-span-3 space-y-6">
                        <!-- Profile Card -->
                        <div class="glass-card p-6 text-center">
                            <div class="relative inline-block mb-4">
                                <div class="w-24 h-24 rounded-full bg-gradient-to-br from-orange-500 to-blue-600 flex items-center justify-center text-3xl font-bold text-white">
                                    T
                                </div>
                                <div class="absolute -bottom-1 -right-1 w-8 h-8 bg-green-500 rounded-full border-4 border-slate-900 flex items-center justify-center">
                                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                    </svg>
                                </div>
                            </div>
                            <h3 class="text-xl font-semibold text-white">测试用户</h3>
                            <p class="text-slate-400 text-sm mt-1">test@example.com</p>
                            <div class="flex items-center justify-center gap-2 mt-4">
                                <span class="badge bg-orange-500/20 text-orange-400 px-3 py-1">专业版</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-slate-700">
                                <div class="flex items-center justify-between text-sm">
                                    <span class="text-slate-500">会员到期</span>
                                    <span class="text-white font-medium">2025-02-13</span>
                                </div>
                                <div class="mt-2 h-1.5 bg-slate-700 rounded-full overflow-hidden">
                                    <div class="h-full bg-gradient-to-r from-orange-500 to-blue-500 rounded-full" style="width: 75%"></div>
                                </div>
                                <div class="mt-1 text-xs text-slate-500">剩余 28 天</div>
                            </div>
                            <button class="btn-primary w-full mt-4">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                续费升级
                            </button>
                        </div>

                        <!-- Quick Actions -->
                        <div class="glass-card p-6">
                            <h3 class="text-lg font-semibold text-white mb-4">快捷操作</h3>
                            <div class="space-y-3">
                                <button class="w-full flex items-center gap-3 p-3 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors text-left">
                                    <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center">
                                        <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <div class="font-medium text-white text-sm">导出数据报告</div>
                                        <div class="text-xs text-slate-500">下载你的分析报告</div>
                                    </div>
                                    <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </button>
                                <button class="w-full flex items-center gap-3 p-3 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors text-left">
                                    <div class="w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center">
                                        <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <div class="font-medium text-white text-sm">邀请好友</div>
                                        <div class="text-xs text-slate-500">获得免费使用时长</div>
                                    </div>
                                    <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </button>
                                <button class="w-full flex items-center gap-3 p-3 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors text-left">
                                    <div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center">
                                        <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <div class="font-medium text-white text-sm">帮助中心</div>
                                        <div class="text-xs text-slate-500">查看使用教程和FAQ</div>
                                    </div>
                                    <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column - Main Content -->
                    <div class="col-span-12 lg:col-span-8 xl:col-span-9 space-y-6">
                        <!-- Usage Stats -->
                        <div class="glass-card p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-lg font-semibold text-white">本月使用情况</h3>
                                <span class="text-sm text-slate-500">2025年1月</span>
                            </div>
                            <div class="grid grid-cols-3 gap-6">
                                <div class="p-4 rounded-xl bg-slate-800/50">
                                    <div class="flex items-center gap-3 mb-3">
                                        <div class="w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center">
                                            <svg class="w-5 h-5 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold text-white">0</div>
                                            <div class="text-xs text-slate-500">已使用搜索</div>
                                        </div>
                                    </div>
                                    <div class="h-1.5 bg-slate-700 rounded-full overflow-hidden">
                                        <div class="h-full bg-orange-500 rounded-full" style="width: 0%"></div>
                                    </div>
                                    <div class="mt-2 text-xs text-slate-500">无限次 / 100次/天</div>
                                </div>
                                <div class="p-4 rounded-xl bg-slate-800/50">
                                    <div class="flex items-center gap-3 mb-3">
                                        <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center">
                                            <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold text-white">3</div>
                                            <div class="text-xs text-slate-500">收藏产品</div>
                                        </div>
                                    </div>
                                    <div class="h-1.5 bg-slate-700 rounded-full overflow-hidden">
                                        <div class="h-full bg-blue-500 rounded-full" style="width: 15%"></div>
                                    </div>
                                    <div class="mt-2 text-xs text-slate-500">3 / 20个收藏上限</div>
                                </div>
                                <div class="p-4 rounded-xl bg-slate-800/50">
                                    <div class="flex items-center gap-3 mb-3">
                                        <div class="w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center">
                                            <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-bold text-white">0</div>
                                            <div class="text-xs text-slate-500">导出报告</div>
                                        </div>
                                    </div>
                                    <div class="h-1.5 bg-slate-700 rounded-full overflow-hidden">
                                        <div class="h-full bg-green-500 rounded-full" style="width: 0%"></div>
                                    </div>
                                    <div class="mt-2 text-xs text-slate-500">0 / 5份/月</div>
                                </div>
                            </div>
                        </div>

                        <!-- Account Settings -->
                        <div class="glass-card p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-lg font-semibold text-white">账户设置</h3>
                                <span class="text-xs text-slate-500">管理你的账户偏好</span>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <div class="flex items-center justify-between p-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors cursor-pointer">
                                    <div class="flex items-center gap-4">
                                        <div class="w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center">
                                            <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <div class="font-medium text-white">消息通知</div>
                                            <div class="text-sm text-slate-500">接收新品推荐和市场预警</div>
                                        </div>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" checked class="sr-only peer">
                                        <div class="w-11 h-6 bg-slate-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform peer-checked:bg-orange-500"></div>
                                    </label>
                                </div>
                                <div class="flex items-center justify-between p-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors cursor-pointer" @click="toggleDarkMode">
                                    <div class="flex items-center gap-4">
                                        <div class="w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center">
                                            <svg v-if="isDarkMode" class="w-5 h-5 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
                                            </svg>
                                            <svg v-else class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <div class="font-medium text-white">{{ isDarkMode ? '深色模式' : '浅色模式' }}</div>
                                            <div class="text-sm text-slate-500">{{ isDarkMode ? '当前使用深色主题' : '当前使用浅色主题' }}</div>
                                        </div>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer" @click.stop>
                                        <input type="checkbox" :checked="isDarkMode" @change="toggleDarkMode" class="sr-only peer">
                                        <div class="w-11 h-6 bg-slate-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform peer-checked:bg-orange-500"></div>
                                    </label>
                                </div>
                                <div class="flex items-center justify-between p-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors cursor-pointer">
                                    <div class="flex items-center gap-4">
                                        <div class="w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center">
                                            <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <div class="font-medium text-white">邮件订阅</div>
                                            <div class="text-sm text-slate-500">每周接收市场趋势报告</div>
                                        </div>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer">
                                        <div class="w-11 h-6 bg-slate-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform peer-checked:bg-orange-500"></div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Security & Payment -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Security -->
                            <div class="glass-card p-6">
                                <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                    </svg>
                                    账户安全
                                </h3>
                                <div class="space-y-3">
                                    <button class="w-full flex items-center justify-between p-3 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 transition-colors text-left">
                                        <div class="flex items-center gap-3">
                                            <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                                            </svg>
                                            <span class="text-sm text-white">修改密码</span>
                                        </div>
                                        <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                    </button>
                                    <button class="w-full flex items-center justify-between p-3 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 transition-colors text-left">
                                        <div class="flex items-center gap-3">
                                            <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                                            </svg>
                                            <span class="text-sm text-white">绑定手机</span>
                                        </div>
                                        <span class="text-xs text-green-400">已绑定</span>
                                    </button>
                                    <button class="w-full flex items-center justify-between p-3 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 transition-colors text-left">
                                        <div class="flex items-center gap-3">
                                            <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                            </svg>
                                            <span class="text-sm text-white">两步验证</span>
                                        </div>
                                        <span class="text-xs text-yellow-400">未开启</span>
                                    </button>
                                    <div class="border-t border-slate-700/50 pt-3 mt-3">
                                        <button @click="handleLogout" class="w-full flex items-center justify-between p-3 rounded-lg bg-slate-800/50 hover:bg-orange-500/10 transition-colors text-left group">
                                            <div class="flex items-center gap-3">
                                                <svg class="w-4 h-4 text-slate-400 group-hover:text-orange-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                                                </svg>
                                                <span class="text-sm text-white group-hover:text-orange-400 transition-colors">退出登录</span>
                                            </div>
                                            <svg class="w-4 h-4 text-slate-500 group-hover:text-orange-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                            </svg>
                                        </button>
                                        <button class="w-full flex items-center justify-between p-3 rounded-lg bg-red-500/5 hover:bg-red-500/10 border border-red-500/20 hover:border-red-500/30 transition-colors text-left group mt-3">
                                            <div class="flex items-center gap-3">
                                                <svg class="w-4 h-4 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                                </svg>
                                                <span class="text-sm text-red-400">注销账户</span>
                                            </div>
                                            <span class="text-xs text-red-400/70">不可恢复</span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Payment -->
                            <div class="glass-card p-6">
                                <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
                                    </svg>
                                    支付方式
                                </h3>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between p-3 rounded-lg bg-slate-800/50">
                                        <div class="flex items-center gap-3">
                                            <div class="w-8 h-8 rounded bg-orange-500 flex items-center justify-center text-white text-xs font-bold">支</div>
                                            <span class="text-sm text-white">支付宝</span>
                                        </div>
                                        <span class="text-xs text-green-400">已验证</span>
                                    </div>
                                    <button class="w-full flex items-center justify-between p-3 rounded-lg border border-dashed border-slate-600 hover:border-orange-500/50 hover:bg-slate-800/30 transition-colors text-left">
                                        <div class="flex items-center gap-3">
                                            <div class="w-8 h-8 rounded bg-slate-700 flex items-center justify-center">
                                                <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                                </svg>
                                            </div>
                                            <span class="text-sm text-slate-400">添加支付方式</span>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Legal & Privacy -->
                        <div class="glass-card p-6">
                            <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                                <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                </svg>
                                法律信息
                            </h3>
                            <div class="space-y-3">
                                <a href="privacy-policy.html" class="w-full flex items-center justify-between p-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 hover:border-blue-500/30 border border-transparent transition-all text-left group">
                                    <div class="flex items-center gap-4">
                                        <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center">
                                            <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <div class="font-medium text-white">隐私政策</div>
                                            <div class="text-sm text-slate-500">了解我们如何收集、使用和保护您的个人信息</div>
                                        </div>
                                    </div>
                                    <svg class="w-5 h-5 text-slate-500 group-hover:text-blue-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </a>
                                <a href="terms-of-service.html" class="w-full flex items-center justify-between p-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 hover:border-blue-500/30 border border-transparent transition-all text-left group">
                                    <div class="flex items-center gap-4">
                                        <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center">
                                            <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <div class="font-medium text-white">用户协议</div>
                                            <div class="text-sm text-slate-500">查看使用 FlashSell 服务的条款和条件</div>
                                        </div>
                                    </div>
                                    <svg class="w-5 h-5 text-slate-500 group-hover:text-blue-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Product Detail Modal -->
        <div v-if="showProductModal" class="product-modal-overlay" @click.self="showProductModal = false">
            <div class="product-modal">
                <button class="modal-close" @click="showProductModal = false">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
                <div class="p-6 lg:p-8">
                    <!-- 1. 顶部核心信息区 -->
                    <div class="product-header-section">
                        <div class="product-basic-info">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="badge badge-hot">爆品</span>
                                <span class="badge badge-trend">趋势上升</span>
                                <span class="platform-indicator">🇺🇸 Amazon.com</span>
                            </div>
                            <h1 class="product-title-lg">{{ selectedProduct?.title || '带LED显示屏的无线耳机' }}</h1>
                            <p class="product-desc-sm">{{ selectedProduct?.shortDesc || '【2024新品】蓝牙5.4芯片，30小时超长续航，LED电量显示，触控操作，Type-C快充' }}</p>
                        </div>
                        <div class="product-price-info">
                            <div class="price-main">
                                <span class="price-current">${{ selectedProduct?.price || '29.99' }}</span>
                                <span class="price-original">${{ selectedProduct ? (parseFloat(selectedProduct.price) * 1.5).toFixed(2) : '44.99' }}</span>
                                <span class="discount-badge">-33%</span>
                            </div>
                        </div>
                    </div>

                    <!-- 2. 全平台综合数据区 (4列卡片) -->
                    <div class="platform-stats-section">
                        <div class="flex items-center gap-2 mb-3">
                            <svg class="w-4 h-4 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            <span class="text-sm font-medium text-orange-400">全平台综合数据</span>
                        </div>
                        <div class="platform-stats-row">
                            <div class="stat-card stat-card-orange">
                                <div class="stat-icon">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                                    </svg>
                                </div>
                                <div>
                                    <div class="text-sm text-slate-500">全平台月销量</div>
                                    <div class="stat-value-lg">45,000+</div>
                                </div>
                            </div>
                            <div class="stat-card stat-card-blue">
                                <div class="stat-icon">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
                                    </svg>
                                </div>
                                <div>
                                    <div class="text-sm text-slate-500">平均评分</div>
                                    <div class="stat-value-lg">⭐ 4.4</div>
                                </div>
                            </div>
                            <div class="stat-card stat-card-green">
                                <div class="stat-icon">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                    </svg>
                                </div>
                                <div>
                                    <div class="text-sm text-slate-500">总评论数</div>
                                    <div class="stat-value-lg">12.6k</div>
                                </div>
                            </div>
                            <div class="stat-card stat-card-purple">
                                <div class="stat-icon">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                    </svg>
                                </div>
                                <div>
                                    <div class="text-sm text-slate-500">在售竞品数</div>
                                    <div class="stat-value-lg">847</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 3. 多平台对比区 (4列卡片 + 汇总条) -->
                    <div class="platform-comparison-section">
                        <div class="flex items-center justify-between mb-3">
                            <div class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/>
                                </svg>
                                <span class="font-medium text-white">多平台对比</span>
                            </div>
                            <span class="text-xs text-slate-500">覆盖 4 个平台</span>
                        </div>
                        <div class="platform-comparison-grid">
                            <div class="platform-card platform-card-amazon">
                                <div class="platform-name">Amazon</div>
                                <div class="platform-price">$24.99</div>
                                <div class="platform-metrics">
                                    <span class="text-slate-400">月销 25,000</span>
                                </div>
                                <div class="platform-rating">
                                    <span class="text-yellow-400">⭐ 4.6</span>
                                    <span class="flex items-center gap-1">
                                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                        </svg>
                                        5.2k
                                    </span>
                                </div>
                            </div>
                            <div class="platform-card platform-card-ebay">
                                <div class="platform-name">eBay</div>
                                <div class="platform-price">$22.99</div>
                                <div class="platform-metrics">
                                    <span class="text-slate-400">月销 12,000</span>
                                </div>
                                <div class="platform-rating">
                                    <span class="text-yellow-400">⭐ 4.4</span>
                                    <span class="flex items-center gap-1">
                                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                        </svg>
                                        3.8k
                                    </span>
                                </div>
                            </div>
                            <div class="platform-card platform-card-aliexpress">
                                <div class="platform-name">速卖通</div>
                                <div class="platform-price">$19.99</div>
                                <div class="platform-metrics">
                                    <span class="text-slate-400">月销 5,000</span>
                                </div>
                                <div class="platform-rating">
                                    <span class="text-yellow-400">⭐ 4.2</span>
                                    <span class="flex items-center gap-1">
                                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                        </svg>
                                        2.1k
                                    </span>
                                </div>
                            </div>
                            <div class="platform-card platform-card-tiktok">
                                <div class="platform-name">TikTok</div>
                                <div class="platform-price">$21.99</div>
                                <div class="platform-metrics">
                                    <span class="text-slate-400">月销 3,000</span>
                                </div>
                                <div class="platform-rating">
                                    <span class="text-yellow-400">⭐ 4.5</span>
                                    <span class="flex items-center gap-1">
                                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                        </svg>
                                        1.5k
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="platform-summary-bar">
                            <div class="platform-summary-item">
                                <span class="text-slate-500 text-xs">最低价</span>
                                <span class="text-green-400 font-semibold">$19.99</span>
                            </div>
                            <div class="platform-summary-item">
                                <span class="text-slate-500 text-xs">最高价</span>
                                <span class="text-red-400 font-semibold">$24.99</span>
                            </div>
                            <div class="platform-summary-item">
                                <span class="text-slate-500 text-xs">价差</span>
                                <span class="text-orange-400 font-semibold">$5.00</span>
                            </div>
                            <div class="platform-summary-item">
                                <span class="text-slate-500 text-xs">推荐平台</span>
                                <span class="text-orange-400 font-semibold">速卖通</span>
                            </div>
                        </div>
                    </div>

                    <!-- 4. 中部主体区 (两栏: 左侧图表, 右侧指标) -->
                    <div class="product-main-section">
                        <!-- 左侧内容区: 图表 -->
                        <div class="product-content-left">
                            <!-- 价格趋势 + 市场竞争力 -->
                            <div class="product-analytics">
                            <!-- 优化的价格趋势面积图 -->
                            <div class="analytics-card">
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-sm text-slate-400">价格趋势 (近30天)</span>
                                    <span class="text-green-400 text-sm font-medium">-8.3% ↓</span>
                                </div>
                                <div class="price-trend-chart">
                                    <!-- SVG 渐变定义 -->
                                    <svg style="position: absolute; width: 0; height: 0;">
                                        <defs>
                                            <linearGradient id="trendGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                                <stop offset="0%" style="stop-color:#F97316;stop-opacity:1" />
                                                <stop offset="100%" style="stop-color:#FB923C;stop-opacity:1" />
                                            </linearGradient>
                                            <linearGradient id="areaGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                                <stop offset="0%" style="stop-color:#F97316;stop-opacity:0.3" />
                                                <stop offset="100%" style="stop-color:#F97316;stop-opacity:0" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                    <!-- 面积图 -->
                                    <div class="price-trend-area">
                                        <svg class="trend-svg" viewBox="0 0 300 100" preserveAspectRatio="none">
                                            <!-- 填充区域 -->
                                            <path class="trend-area-fill" d="M0,70 L30,65 L60,60 L90,55 L120,50 L150,48 L180,45 L210,42 L240,40 L270,38 L300,35 L300,100 L0,100 Z" />
                                            <!-- 趋势线 -->
                                            <path class="trend-path" d="M0,70 L30,65 L60,60 L90,55 L120,50 L150,48 L180,45 L210,42 L240,40 L270,38 L300,35" />
                                            <!-- 数据点 -->
                                            <circle class="trend-point" cx="0" cy="70" />
                                            <circle class="trend-point" cx="30" cy="65" />
                                            <circle class="trend-point" cx="60" cy="60" />
                                            <circle class="trend-point" cx="90" cy="55" />
                                            <circle class="trend-point" cx="120" cy="50" />
                                            <circle class="trend-point active" cx="150" cy="48" />
                                            <circle class="trend-point" cx="180" cy="45" />
                                            <circle class="trend-point" cx="210" cy="42" />
                                            <circle class="trend-point" cx="240" cy="40" />
                                            <circle class="trend-point" cx="270" cy="38" />
                                            <circle class="trend-point" cx="300" cy="35" />
                                        </svg>
                                    </div>
                                    <!-- X轴标签 -->
                                    <div class="trend-label" style="left: 5%">1月1日</div>
                                    <div class="trend-label" style="left: 50%">1月15日</div>
                                    <div class="trend-label" style="left: 95%">1月30日</div>
                                    <!-- 悬停提示 -->
                                    <div class="trend-tooltip visible" style="left: 50%; top: 20px; transform: translateX(-50%);">
                                        <div class="price">$29.99</div>
                                        <div class="date">1月15日</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 市场竞争力雷达图 -->
                            <div class="analytics-card">
                                <div class="text-sm text-slate-400 mb-3">市场竞争力分析</div>
                                <div class="competitive-meter">
                                    <div class="radar-chart-container">
                                        <svg class="radar-chart" viewBox="0 0 200 200">
                                            <!-- 背景网格 (五边形) -->
                                            <!-- 外圈 -->
                                            <polygon class="radar-grid" points="100,20 176,65 153,155 47,155 24,65"/>
                                            <!-- 中圈 -->
                                            <polygon class="radar-grid" points="100,40 157,73 139,144 61,144 43,73" opacity="0.7"/>
                                            <!-- 内圈 -->
                                            <polygon class="radar-grid" points="100,60 138,81 125,133 75,133 62,81" opacity="0.4"/>
                                            <!-- 坐标轴 -->
                                            <line class="radar-axis" x1="100" y1="100" x2="100" y2="20"/>
                                            <line class="radar-axis" x1="100" y1="100" x2="176" y2="65"/>
                                            <line class="radar-axis" x1="100" y1="100" x2="153" y2="155"/>
                                            <line class="radar-axis" x1="100" y1="100" x2="47" y2="155"/>
                                            <line class="radar-axis" x1="100" y1="100" x2="24" y2="65"/>

                                            <!-- 数据区域 -->
                                            <!-- 价格优势: 85% (顶部) -->
                                            <!-- 竞争适中: 60% (右上) -->
                                            <!-- 利润空间: 75% (右下) -->
                                            <!-- 市场需求: 90% (左下) -->
                                            <!-- 供应链: 70% (左上) -->
                                            <polygon class="radar-area" points="
                                                100,33
                                                156,78
                                                137,141
                                                53,140
                                                39,77
                                            "/>

                                            <!-- 数据点 -->
                                            <circle class="radar-point" cx="100" cy="33"/>
                                            <circle class="radar-point" cx="156" cy="78"/>
                                            <circle class="radar-point" cx="137" cy="141"/>
                                            <circle class="radar-point" cx="53" cy="140"/>
                                            <circle class="radar-point" cx="39" cy="77"/>

                                            <!-- 标签 -->
                                            <text class="radar-label" x="100" y="12">价格优势</text>
                                            <text class="radar-label-value" x="100" y="24">85%</text>

                                            <text class="radar-label" x="182" y="60">竞争</text>
                                            <text class="radar-label-value" x="182" y="72">60%</text>

                                            <text class="radar-label" x="160" y="170">利润</text>
                                            <text class="radar-label-value" x="160" y="182">75%</text>

                                            <text class="radar-label" x="30" y="170">需求</text>
                                            <text class="radar-label-value" x="30" y="182">90%</text>

                                            <text class="radar-label" x="5" y="60">供应链</text>
                                            <text class="radar-label-value" x="5" y="72">70%</text>
                                        </svg>
                                    </div>

                                    <!-- 图例 -->
                                    <div class="radar-legend">
                                        <div class="radar-legend-item">
                                            <div class="radar-legend-dot"></div>
                                            <span class="radar-legend-label">价格优势</span>
                                            <span class="radar-legend-value">85%</span>
                                        </div>
                                        <div class="radar-legend-item">
                                            <div class="radar-legend-dot"></div>
                                            <span class="radar-legend-label">竞争</span>
                                            <span class="radar-legend-value">60%</span>
                                        </div>
                                        <div class="radar-legend-item">
                                            <div class="radar-legend-dot"></div>
                                            <span class="radar-legend-label">利润空间</span>
                                            <span class="radar-legend-value">75%</span>
                                        </div>
                                        <div class="radar-legend-item">
                                            <div class="radar-legend-dot"></div>
                                            <span class="radar-legend-label">市场需求</span>
                                            <span class="radar-legend-value">90%</span>
                                        </div>
                                        <div class="radar-legend-item">
                                            <div class="radar-legend-dot"></div>
                                            <span class="radar-legend-label">供应链</span>
                                            <span class="radar-legend-value">70%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>

                        <!-- 右列: 关键指标汇总 (水平不换行) -->
                        <div class="product-metrics">
                            <div class="metric-item metric-item-success">
                                <div class="metric-icon">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </div>
                                <span class="text-xs text-slate-500">入场建议</span>
                                <span class="text-sm font-medium text-green-400 ml-auto">建议入场</span>
                            </div>
                            <div class="metric-item metric-item-warning">
                                <div class="metric-icon">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                                    </svg>
                                </div>
                                <span class="text-xs text-slate-500">竞争指数</span>
                                <span class="text-sm font-medium text-orange-400 ml-auto">中等</span>
                            </div>
                            <div class="metric-item metric-item-info">
                                <div class="metric-icon">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </div>
                                <span class="text-xs text-slate-500">利润空间</span>
                                <span class="text-sm font-medium text-blue-400 ml-auto">充足</span>
                            </div>
                            <div class="metric-item metric-item-success">
                                <div class="metric-icon">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                                    </svg>
                                </div>
                                <span class="text-xs text-slate-500">趋势判断</span>
                                <span class="text-sm font-medium text-green-400 ml-auto">上升</span>
                            </div>
                        </div>
                    </div>

                    <!-- 5. AI 智能分析 (横条样式) -->
                    <div class="ai-analysis-bar">
                        <div class="ai-icon">
                            <svg class="w-5 h-5 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <div class="text-sm font-medium text-white">AI 智能分析</div>
                            <div class="text-xs text-slate-400">该产品当前处于上升期，价格下降趋势明显，建议抓住时机入场。竞争强度中等，利润空间充足。</div>
                        </div>
                    </div>

                    <!-- 6. 操作按钮区 (5个按钮) -->
                    <div class="action-buttons-row">
                        <button class="action-btn action-btn-primary">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                            </svg>
                            <span>收藏</span>
                        </button>
                        <button class="action-btn action-btn-secondary">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/>
                            </svg>
                            <span>分享</span>
                        </button>
                        <button class="action-btn action-btn-secondary">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            <span>导出报告</span>
                        </button>
                        <button class="action-btn action-btn-secondary">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                            <span>添加对比</span>
                        </button>
                        <button class="action-btn action-btn-ghost">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                        </button>
                    </div>

                    <!-- 相似产品推荐 -->
                    <div class="mt-8 pt-6 border-t border-slate-700/50">
                        <h3 class="text-base font-semibold text-white mb-4">相似产品推荐</h3>
                        <div class="grid grid-cols-4 gap-4">
                            <div v-for="i in 4" :key="i" class="p-3 rounded-lg bg-slate-800/30 hover:bg-slate-700/30 transition-colors cursor-pointer">
                                <div class="aspect-square rounded-lg bg-slate-700/50 mb-2 flex items-center justify-center">
                                    <svg class="w-10 h-10 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                </div>
                                <div class="text-xs text-white mb-1 truncate">蓝牙耳机无线降噪</div>
                                <div class="flex items-center justify-between">
                                    <span class="text-orange-500 text-sm font-bold">${{ 19.99 + i * 5 }}</span>
                                    <span class="text-xs text-slate-500">月销 {{ 5000 + i * 1000 }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, computed } = Vue;

        // Language translations
        const translations = {
            zh: {
                nav: {
                    main: '主导航',
                    dashboard: '仪表盘',
                    search: '闪选',
                    favorites: '我的收藏',
                    analysis: '市场分析',
                    account: '账户',
                    subscription: '订阅套餐',
                    profile: '个人中心'
                },
                dashboard: {
                    welcome: '欢迎回来',
                    newProducts: '今天有 {count} 个新品值得关注',
                    refresh: '刷新数据',
                    lastUpdate: '最后更新: ',
                    newProductsFound: '今日新品发现',
                    hotProducts: '潜力爆品推荐',
                    favorites: '收藏产品数',
                    aiAccuracy: 'AI推荐准确率'
                },
                badges: {
                    hot: '爆品',
                    trend: '趋势',
                    new: '新品',
                    recommend: '推荐'
                },
                market: {
                    marketSize: '市场规模',
                    monthlyGrowth: '月增长率',
                    competition: '竞争强度',
                    barrier: '进入壁垒',
                    potential: '潜力评分'
                }
            },
            en: {
                nav: {
                    main: 'Main',
                    dashboard: 'Dashboard',
                    search: 'AI Product Search',
                    favorites: 'Favorites',
                    analysis: 'Market Analysis',
                    account: 'Account',
                    subscription: 'Subscription',
                    profile: 'Profile'
                },
                dashboard: {
                    welcome: 'Welcome back',
                    newProducts: '{count} new products to discover today',
                    refresh: 'Refresh Data',
                    lastUpdate: 'Last updated: ',
                    newProductsFound: 'New Products Found',
                    hotProducts: 'Hot Product Picks',
                    favorites: 'Saved Products',
                    aiAccuracy: 'AI Recommendation Accuracy'
                },
                badges: {
                    hot: 'Hot',
                    trend: 'Trending',
                    new: 'New',
                    recommend: 'Recommend'
                },
                market: {
                    marketSize: 'Market Size',
                    monthlyGrowth: 'Monthly Growth',
                    competition: 'Competition',
                    barrier: 'Barrier',
                    potential: 'Potential Score'
                }
            }
        };

        createApp({
            setup() {
                const currentPage = ref('dashboard');
                const searchQuery = ref('');
                const showAdvanced = ref(false);
                const sortBy = ref('relevance');

                // Search state management
                const searchState = ref('initial'); // 'initial' | 'conversation' | 'results'
                const searchHistory = ref([]);
                const showWelcomeMessage = ref(true);

                // Search results display state
                const hasSearched = ref(false);
                const lastSearchQuery = ref('');
                const showAllResults = ref(false);

                // 计算显示的产品列表
                const displayProducts = Vue.computed(() => {
                    if (hasSearched.value) {
                        // 如果已搜索，根据 showAllResults 决定显示数量
                        if (showAllResults.value) {
                            // 显示 8 个搜索结果
                            return searchResults.value;
                        } else {
                            // 显示 4 个搜索结果
                            return searchResults.value.slice(0, 4);
                        }
                    } else {
                        // 显示 AI 爆品推荐
                        if (showAllResults.value) {
                            // 显示 8 个推荐
                            return [...aiProducts.value, ...aiProducts.value.slice(0, 2)].map((p, i) => ({ ...p, id: p.id + '_' + i }));
                        } else {
                            // 显示 3 个推荐
                            return aiProducts.value.slice(0, 3);
                        }
                    }
                });

                // AI Thinking state (AI 思考状态)
                const isThinking = ref(false);
                const thinkingProgress = ref(0);
                const thinkingSteps = ref([
                    { key: 'intent', label: { zh: '理解搜索意图', en: 'Understanding search intent' }, status: 'pending' },
                    { key: 'scan', label: { zh: '扫描市场数据', en: 'Scanning market data' }, status: 'pending' },
                    { key: 'analyze', label: { zh: '分析竞争程度', en: 'Analyzing competition' }, status: 'pending' }
                ]);

                // Conversation state (对话状态)
                const conversationState = Vue.reactive({
                    userQuery: '',            // 用户搜索关键词
                    messages: [],             // 消息历史
                    typingTexts: {},          // 存储每条消息的打字文本
                    tempFilters: {            // 临时筛选选择（用户未确认前的选择）
                        minSales: null,       // 临时销量选择
                        priceRange: null,     // 临时价格选择
                        minRating: null,      // 临时评分选择
                        platforms: ['amazon', 'ebay', 'aliexpress', 'tiktok']  // 临时平台选择（默认全选）
                    }
                });

                // Message type enum (消息类型枚举)
                const MessageType = {
                    AI_WELCOME: 'ai_welcome',        // AI 欢迎消息
                    AI_FILTER_FORM: 'ai_filter_form', // AI 筛选表单
                    AI_CONFIRMATION: 'ai_confirm',   // AI 确认选择
                    USER_CHOICE: 'user_choice'       // 用户选择
                };

                // Filter categories configuration (筛选类别配置)
                const FILTER_CATEGORIES = {
                    zh: [
                        {
                            key: 'minSales',
                            icon: '💰',
                            title: '月销量',
                            type: 'single',  // 单选
                            options: [
                                { label: '100+', value: 100 },
                                { label: '500+', value: 500 },
                                { label: '1000+', value: 1000 },
                                { label: '5000+', value: 5000 }
                            ]
                        },
                        {
                            key: 'priceRange',
                            icon: '💵',
                            title: '价格范围',
                            type: 'single',
                            options: [
                                { label: '$0-30', value: '0-30' },
                                { label: '$30-50', value: '30-50' },
                                { label: '$50-100', value: '50-100' },
                                { label: '$100+', value: '100+' }
                            ]
                        },
                        {
                            key: 'minRating',
                            icon: '⭐',
                            title: '评分要求',
                            type: 'single',
                            options: [
                                { label: '4.0+', value: 4.0 },
                                { label: '4.3+', value: 4.3 },
                                { label: '4.5+', value: 4.5 }
                            ]
                        },
                        {
                            key: 'platforms',
                            icon: '🌐',
                            title: '数据平台',
                            type: 'multiple',  // 多选
                            options: [
                                { label: 'Amazon', value: 'amazon', icon: '🛒' },
                                { label: 'eBay', value: 'ebay', icon: '🏪' },
                                { label: '速卖通', value: 'aliexpress', icon: '📦' },
                                { label: 'TikTok', value: 'tiktok', icon: '🎵' }
                            ]
                        }
                    ],
                    en: [
                        {
                            key: 'minSales',
                            icon: '💰',
                            title: 'Monthly Sales',
                            type: 'single',
                            options: [
                                { label: '100+', value: 100 },
                                { label: '500+', value: 500 },
                                { label: '1000+', value: 1000 },
                                { label: '5000+', value: 5000 }
                            ]
                        },
                        {
                            key: 'priceRange',
                            icon: '💵',
                            title: 'Price Range',
                            type: 'single',
                            options: [
                                { label: '$0-30', value: '0-30' },
                                { label: '$30-50', value: '30-50' },
                                { label: '$50-100', value: '50-100' },
                                { label: '$100+', value: '100+' }
                            ]
                        },
                        {
                            key: 'minRating',
                            icon: '⭐',
                            title: 'Rating',
                            type: 'single',
                            options: [
                                { label: '4.0+', value: 4.0 },
                                { label: '4.3+', value: 4.3 },
                                { label: '4.5+', value: 4.5 }
                            ]
                        },
                        {
                            key: 'platforms',
                            icon: '🌐',
                            title: 'Platforms',
                            type: 'multiple',
                            options: [
                                { label: 'Amazon', value: 'amazon', icon: '🛒' },
                                { label: 'eBay', value: 'ebay', icon: '🏪' },
                                { label: 'AliExpress', value: 'aliexpress', icon: '📦' },
                                { label: 'TikTok', value: 'tiktok', icon: '🎵' }
                            ]
                        }
                    ]
                };

                // Filter state
                const activeFilters = ref({
                    minSales: null,
                    priceRange: null,
                    minRating: null,
                    platforms: ['amazon', 'ebay', 'aliexpress', 'tiktok']
                });

                // Quick prompts
                const quickPrompts = computed(() => {
                    if (locale.value === 'zh') {
                        return ['智能家居', '运动耳机', '美妆工具', '宠物用品', '户外运动'];
                    } else {
                        return ['Smart Home', 'Sports Earbuds', 'Beauty Tools', 'Pet Supplies', 'Outdoor Sports'];
                    }
                });

                // Chat input computed properties (聊天输入框计算属性)
                const hasContent = computed(() => searchQuery.value.trim().length > 0);
                const showHint = computed(() => isInputFocused.value && !hasContent.value);
                const placeholderText = computed(() => {
                    if (locale.value === 'zh') {
                        return isInputFocused.value
                            ? '继续输入...'
                            : '输入产品关键词，如：智能家居、运动耳机...';
                    }
                    return isInputFocused.value
                        ? 'Continue typing...'
                        : 'Enter product keywords, e.g., Smart Home, Sports Earbuds...';
                });

                const locale = ref('zh');
                const sidebarCollapsed = ref(false);
                const sidebarMobileOpen = ref(false);
                const showProductModal = ref(false);
                const selectedProduct = ref(null);
                const priceTrendData = ref([45, 52, 48, 61, 55, 72, 68, 75, 82, 78, 85, 90, 88, 92, 85, 78, 82, 75, 68, 72, 65, 58, 62, 55, 48, 52, 45, 50, 55, 60]);
                const loginTab = ref('login');
                const isLoading = ref(false);
                const isSubmitting = ref(false);
                const isLoggedIn = ref(false);
                const currentUser = ref(null);
                const isDarkMode = ref(true);

                // Chat input state (聊天输入框状态)
                const chatInput = ref(null);
                const textareaHeight = ref('auto');
                const isInputFocused = ref(false);
                const showTag = ref(true);

                // Toggle dark/light mode
                const toggleDarkMode = () => {
                    isDarkMode.value = !isDarkMode.value;
                    localStorage.setItem('isDarkMode', isDarkMode.value);
                    applyTheme();
                };

                // Apply theme to HTML element
                const applyTheme = () => {
                    const html = document.documentElement;
                    if (isDarkMode.value) {
                        html.classList.remove('light');
                    } else {
                        html.classList.add('light');
                    }
                };

                // Platform selection state
                const platforms = ref([
                    { id: 'amazon', name: 'Amazon', selected: true },
                    { id: 'ebay', name: 'eBay', selected: true },
                    { id: 'aliexpress', name: '速卖通', selected: true },
                    { id: 'tiktok', name: 'TikTok Shop', selected: true }
                ]);

                // Toggle platform selection
                const togglePlatform = (platformId) => {
                    const platform = platforms.value.find(p => p.id === platformId);
                    if (platform) {
                        platform.selected = !platform.selected;
                    }
                };

                // Select all platforms
                const selectAllPlatforms = () => {
                    platforms.value.forEach(p => p.selected = true);
                };

                // Clear all platforms
                const clearAllPlatforms = () => {
                    platforms.value.forEach(p => p.selected = false);
                };

                // Get selected platform count
                const selectedPlatformCount = computed(() =>
                    platforms.value.filter(p => p.selected).length
                );

                // Simulate loading
                const simulateLoading = async () => {
                    isLoading.value = true;
                    await new Promise(resolve => setTimeout(resolve, 1500));
                    isLoading.value = false;
                };

                // Translation function
                const t = (key) => {
                    const keys = key.split('.');
                    let result = translations[locale.value];
                    for (const k of keys) {
                        result = result?.[k];
                    }
                    return result || key;
                };

                // Set locale
                const setLocale = (newLocale) => {
                    locale.value = newLocale;
                    localStorage.setItem('locale', newLocale);
                };

                // Toggle locale (for new language toggle)
                const toggleLocale = () => {
                    locale.value = locale.value === 'zh' ? 'en' : 'zh';
                    localStorage.setItem('locale', locale.value);
                };

                // Toggle sidebar
                const toggleSidebar = () => {
                    sidebarCollapsed.value = !sidebarCollapsed.value;
                    localStorage.setItem('sidebarCollapsed', sidebarCollapsed.value);
                };

                // Load saved preferences
                const savedLocale = localStorage.getItem('locale');
                const savedSidebar = localStorage.getItem('sidebarCollapsed');
                const savedLogin = localStorage.getItem('isLoggedIn');
                const savedDarkMode = localStorage.getItem('isDarkMode');
                if (savedLocale) locale.value = savedLocale;
                if (savedSidebar === 'true') sidebarCollapsed.value = true;
                if (savedLogin === 'true') {
                    isLoggedIn.value = true;
                    currentUser.value = { name: 'Test User', avatar: 'T', plan: 'Pro' };
                }
                if (savedDarkMode !== null) {
                    isDarkMode.value = savedDarkMode === 'true';
                }
                // Apply theme on load
                applyTheme();

                const aiProducts = computed(() => {
                    const products = [
                        { id: 1, title: locale.value === 'zh' ? '带LED显示屏的无线耳机' : 'Wireless Earbuds with LED Display', price: '29.99', sales: '12,500', rating: '4.6', reviews: '3,241', badge: 'hot', badgeClass: 'badge-hot', image: 'https://images.unsplash.com/photo-1590658268037-6bf12165a8df?w=400&h=400&fit=crop' },
                        { id: 2, title: locale.value === 'zh' ? '智能家居安防摄像头' : 'Smart Home Security Camera', price: '49.99', sales: '8,200', rating: '4.5', reviews: '2,156', badge: 'trend', badgeClass: 'badge-trend', image: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop' },
                        { id: 3, title: locale.value === 'zh' ? '便携式电源站 500W' : 'Portable Power Station 500W', price: '189.99', sales: '3,400', rating: '4.7', reviews: '1,892', badge: 'new', badgeClass: 'badge-warning', image: 'https://images.unsplash.com/photo-1608225400555-8f9b6d2fdbdc?w=400&h=400&fit=crop' },
                        { id: 4, title: locale.value === 'zh' ? '智能温控咖啡杯' : 'Smart Temperature Control Mug', price: '34.99', sales: '6,800', rating: '4.4', reviews: '1,567', badge: 'hot', badgeClass: 'badge-hot', image: 'https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=400&h=400&fit=crop' },
                    ];
                    return products.map(p => ({
                        ...p,
                        badge: t(`badges.${p.badge}`)
                    }));
                });

                const searchResults = computed(() => {
                    const products = [
                        { id: 1, title: locale.value === 'zh' ? '防水蓝牙音箱' : 'Bluetooth Speaker Waterproof', price: '24.99', sales: '15,200', rating: '4.5', reviews: '4,521', badge: 'hot', badgeClass: 'badge-hot', image: 'https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=400&h=400&fit=crop' },
                        { id: 2, title: locale.value === 'zh' ? '无线充电板' : 'Wireless Charging Pad', price: '15.99', sales: '9,800', rating: '4.3', reviews: '3,892', badge: 'trend', badgeClass: 'badge-trend', image: 'https://images.unsplash.com/photo-1616423664037-3b0a0b07b037?w=400&h=400&fit=crop' },
                        { id: 3, title: locale.value === 'zh' ? '智能手表健身追踪器' : 'Smart Watch Fitness Tracker', price: '59.99', sales: '7,500', rating: '4.4', reviews: '2,654', badge: 'recommend', badgeClass: 'badge-warning', image: 'https://images.unsplash.com/photo-1579586337278-3befd40fd17a?w=400&h=400&fit=crop' },
                        { id: 4, title: locale.value === 'zh' ? 'LED智能台灯' : 'LED Desk Lamp Smart', price: '34.99', sales: '5,200', rating: '4.6', reviews: '1,789', badge: 'new', badgeClass: 'badge-warning', image: 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?w=400&h=400&fit=crop' },
                        { id: 5, title: locale.value === 'zh' ? '便携式蓝牙键盘' : 'Portable Bluetooth Keyboard', price: '19.99', sales: '6,300', rating: '4.4', reviews: '2,145', badge: 'hot', badgeClass: 'badge-hot', image: 'https://images.unsplash.com/photo-1587829741301-dc798b91a60e?w=400&h=400&fit=crop' },
                        { id: 6, title: locale.value === 'zh' ? '智能家居控制器' : 'Smart Home Controller Hub', price: '45.99', sales: '4,100', rating: '4.5', reviews: '1,678', badge: 'trend', badgeClass: 'badge-trend', image: 'https://images.unsplash.com/photo-1558002038-1055907df827?w=400&h=400&fit=crop' },
                        { id: 7, title: locale.value === 'zh' ? '无线手机充电支架' : 'Wireless Phone Charging Stand', price: '28.99', sales: '8,700', rating: '4.6', reviews: '3,421', badge: 'new', badgeClass: 'badge-warning', image: 'https://images.unsplash.com/photo-1586816879360-004f5b0c51e5?w=400&h=400&fit=crop' },
                        { id: 8, title: locale.value === 'zh' ? '多功能数据线' : 'Multi-Function Charging Cable', price: '12.99', sales: '22,000', rating: '4.7', reviews: '6,543', badge: 'hot', badgeClass: 'badge-hot', image: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop' },
                    ];
                    return products.map(p => ({
                        ...p,
                        badge: t(`badges.${p.badge}`)
                    }));
                });

                const favorites = computed(() => {
                    const products = [
                        { id: 1, title: locale.value === 'zh' ? '防滑瑜伽垫' : 'Yoga Mat Non-Slip Exercise', price: '22.99', sales: '18,500', rating: '4.7', reviews: '5,632', image: 'https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=400&h=400&fit=crop' },
                        { id: 2, title: locale.value === 'zh' ? '不锈钢水壶' : 'Stainless Steel Water Bottle', price: '19.99', sales: '14,200', rating: '4.6', reviews: '4,218', image: 'https://images.unsplash.com/photo-1602143407151-7111542de6e8?w=400&h=400&fit=crop' },
                        { id: 3, title: locale.value === 'zh' ? '跑步手机腰包' : 'Running Belt Phone Holder', price: '12.99', sales: '9,800', rating: '4.4', reviews: '2,987', image: 'https://images.unsplash.com/photo-1591195853828-11db59a44f6b?w=400&h=400&fit=crop' },
                        { id: 4, title: locale.value === 'zh' ? '无线蓝牙耳机' : 'Wireless Bluetooth Earbuds', price: '29.99', sales: '12,300', rating: '4.5', reviews: '3,456', image: 'https://images.unsplash.com/photo-1590658268037-6bf12165a8df?w=400&h=400&fit=crop' },
                        { id: 5, title: locale.value === 'zh' ? '智能运动手环' : 'Smart Fitness Tracker Band', price: '35.99', sales: '8,700', rating: '4.6', reviews: '2,890', image: 'https://images.unsplash.com/photo-1579586337278-3befd40fd17a?w=400&h=400&fit=crop' },
                        { id: 6, title: locale.value === 'zh' ? '便携式迷你风扇' : 'Portable Mini Fan', price: '15.99', sales: '22,100', rating: '4.3', reviews: '5,123', image: 'https://images.unsplash.com/photo-1616332745709-63e0f1938901?w=400&h=400&fit=crop' },
                        { id: 7, title: locale.value === 'zh' ? 'LED补光灯化妆镜' : 'LED Lighted Makeup Mirror', price: '28.99', sales: '7,500', rating: '4.8', reviews: '2,345', image: 'https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400&h=400&fit=crop' },
                        { id: 8, title: locale.value === 'zh' ? '多功能旅行枕' : 'Multi-Function Travel Pillow', price: '18.99', sales: '11,200', rating: '4.5', reviews: '3,789', image: 'https://images.unsplash.com/photo-1520975867597-0af37a22e31e?w=400&h=400&fit=crop' },
                        { id: 9, title: locale.value === 'zh' ? '太阳能户外灯' : 'Solar Outdoor Lights', price: '42.99', sales: '6,400', rating: '4.4', reviews: '1,987', image: 'https://images.unsplash.com/photo-1557597774-9d273605dfa9?w=400&h=400&fit=crop' },
                        { id: 10, title: locale.value === 'zh' ? '无线充电板套装' : 'Wireless Charging Pad Set', price: '24.99', sales: '15,800', rating: '4.7', reviews: '4,567', image: 'https://images.unsplash.com/photo-1616423664037-3b0a0b07b037?w=400&h=400&fit=crop' },
                    ];
                    return products;
                });

                // Recent Selections (最近选品)
                const recentSelections = ref([
                    { id: 101, title: '无线充电宝 10000mAh', price: '24.99', sales: 8500, rating: '4.6', reviews: '3,245', image: 'https://images.unsplash.com/photo-1609091839311-d5365f9ff1c5?w=400&h=400&fit=crop', timestamp: '2小时前' },
                    { id: 102, title: '蓝牙自拍杆', price: '15.99', sales: 12400, rating: '4.5', reviews: '5,832', image: 'https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400&h=400&fit=crop', timestamp: '5小时前' },
                    { id: 103, title: '智能手环 Pro', price: '39.99', sales: 6800, rating: '4.7', reviews: '2,156', image: 'https://images.unsplash.com/photo-1579586337278-3befd40fd17a?w=400&h=400&fit=crop', timestamp: '昨天' },
                    { id: 104, title: '便携式加湿器', price: '18.99', sales: 9600, rating: '4.4', reviews: '4,021', image: 'https://images.unsplash.com/photo-1616332745709-63e0f1938901?w=400&h=400&fit=crop', timestamp: '2天前' },
                ]);

                const trends = computed(() => {
                    if (locale.value === 'zh') {
                        return [
                            { name: '智能家居', change: 32.5, score: 85, color: '#F97316', desc: '增长强劲，蓝海机会' },
                            { name: '户外运动', change: 18.2, score: 72, color: '#3B82F6', desc: '稳定增长，竞争适中' },
                            { name: '宠物用品', change: 45.6, score: 92, color: '#10B981', desc: '爆发式增长，高度推荐' },
                            { name: '美妆工具', change: -5.3, score: 45, color: '#EF4444', desc: '增长放缓，谨慎进入' },
                        ];
                    } else {
                        return [
                            { name: 'Smart Home', change: 32.5, score: 85, color: '#F97316', desc: 'Strong growth, blue ocean opportunity' },
                            { name: 'Outdoor Sports', change: 18.2, score: 72, color: '#3B82F6', desc: 'Steady growth, moderate competition' },
                            { name: 'Pet Supplies', change: 45.6, score: 92, color: '#10B981', desc: 'Explosive growth, highly recommended' },
                            { name: 'Beauty Tools', change: -5.3, score: 45, color: '#EF4444', desc: 'Growth slowing, enter with caution' },
                        ];
                    }
                });

                const chartData = [45, 52, 48, 61, 55, 72, 68, 75, 82, 78, 85, 90];

                const categories = computed(() => {
                    if (locale.value === 'zh') {
                        return [
                            { name: '消费电子', sub: '手机配件/耳机', marketSize: '$2.5B', growth: 12.5, competition: 85, competitionClass: 'bg-red-500', barrier: '高', barrierClass: 'badge-hot', score: 72, scoreClass: 'text-yellow-400' },
                            { name: '家居厨房', sub: '收纳/清洁', marketSize: '$1.8B', growth: 18.3, competition: 68, competitionClass: 'bg-yellow-500', barrier: '低', barrierClass: 'badge-trend', score: 88, scoreClass: 'text-green-400' },
                            { name: '户外运动', sub: '健身/露营', marketSize: '$1.2B', growth: 25.6, competition: 52, competitionClass: 'bg-blue-500', barrier: '中', barrierClass: 'badge-warning', score: 92, scoreClass: 'text-green-400' },
                            { name: '宠物用品', sub: '食品/玩具', marketSize: '$850M', growth: 35.2, competition: 45, competitionClass: 'bg-green-500', barrier: '低', barrierClass: 'badge-trend', score: 95, scoreClass: 'text-green-400' },
                        ];
                    } else {
                        return [
                            { name: 'Consumer Electronics', sub: 'Phone Accessories', marketSize: '$2.5B', growth: 12.5, competition: 85, competitionClass: 'bg-red-500', barrier: 'High', barrierClass: 'badge-hot', score: 72, scoreClass: 'text-yellow-400' },
                            { name: 'Home & Kitchen', sub: 'Storage/Cleaning', marketSize: '$1.8B', growth: 18.3, competition: 68, competitionClass: 'bg-yellow-500', barrier: 'Low', barrierClass: 'badge-trend', score: 88, scoreClass: 'text-green-400' },
                            { name: 'Outdoor Sports', sub: 'Fitness/Camping', marketSize: '$1.2B', growth: 25.6, competition: 52, competitionClass: 'bg-blue-500', barrier: 'Medium', barrierClass: 'badge-warning', score: 92, scoreClass: 'text-green-400' },
                            { name: 'Pet Supplies', sub: 'Food/Toys', marketSize: '$850M', growth: 35.2, competition: 45, competitionClass: 'bg-green-500', barrier: 'Low', barrierClass: 'badge-trend', score: 95, scoreClass: 'text-green-400' },
                        ];
                    }
                });

                const quickFilters = computed(() => {
                    if (locale.value === 'zh') {
                        return ['无线耳机', '智能家居', '户外运动', '美妆工具', '宠物用品'];
                    } else {
                        return ['Wireless Earbuds', 'Smart Home', 'Outdoor Sports', 'Beauty Tools', 'Pet Supplies'];
                    }
                });

                // Open product modal
                const openProductModal = (product) => {
                    selectedProduct.value = product;
                    showProductModal.value = true;
                };

                // Platform helper functions
                const getPlatformBadgeClass = (platformId) => {
                    const classes = {
                        amazon: 'bg-orange-500/20 text-orange-400',
                        ebay: 'bg-blue-500/20 text-blue-400',
                        aliexpress: 'bg-pink-500/20 text-pink-400',
                        tiktok: 'bg-slate-500/40 text-white'
                    };
                    return classes[platformId] || 'bg-slate-500/20 text-slate-400';
                };

                const getPlatformName = (platformId) => {
                    const platform = platforms.value.find(p => p.id === platformId);
                    return platform ? platform.name : platformId;
                };

                // Format sales number
                const formatSales = (num) => {
                    if (num >= 10000) {
                        return (num / 10000).toFixed(1) + '万';
                    } else if (num >= 1000) {
                        return (num / 1000).toFixed(1) + 'k';
                    }
                    return num.toString();
                };

                // Login handlers
                const handleLogin = async () => {
                    isSubmitting.value = true;
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    isSubmitting.value = false;
                    isLoggedIn.value = true;
                    currentUser.value = { name: 'Test User', avatar: 'T', plan: 'Pro' };
                    localStorage.setItem('isLoggedIn', 'true');
                    currentPage.value = 'dashboard';
                };

                const handleRegister = async () => {
                    isSubmitting.value = true;
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    isSubmitting.value = false;
                    isLoggedIn.value = true;
                    currentUser.value = { name: '新用户', avatar: 'N', plan: 'Free' };
                    localStorage.setItem('isLoggedIn', 'true');
                    currentPage.value = 'dashboard';
                };

                // Switch to login tab
                const showLoginTab = () => {
                    loginTab.value = 'login';
                };

                // Switch to register tab
                const showRegisterTab = () => {
                    loginTab.value = 'register';
                };

                // Logout handler
                const handleLogout = () => {
                    isLoggedIn.value = false;
                    currentUser.value = null;
                    localStorage.removeItem('isLoggedIn');
                    currentPage.value = 'login';
                    loginTab.value = 'login';
                };

                // Chat input handlers (聊天输入框处理函数)

                // 自动调整 textarea 高度
                const handleTextInput = () => {
                    const textarea = chatInput.value;
                    if (!textarea) return;

                    // 重置高度以获取正确的 scrollHeight
                    textarea.style.height = 'auto';

                    // 计算新高度
                    const maxHeight = 200;
                    let newHeight = textarea.scrollHeight;
                    if (newHeight > maxHeight) {
                        newHeight = maxHeight;
                        textarea.style.overflowY = 'auto';
                    } else {
                        textarea.style.overflowY = 'hidden';
                    }

                    textareaHeight.value = `${newHeight}px`;
                };

                // 键盘事件处理
                const handleKeydown = (e) => {
                    // Enter 发送，Shift + Enter 换行
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        performSearch();
                    }

                    // Escape 清空输入
                    if (e.key === 'Escape') {
                        searchQuery.value = '';
                        handleTextInput();
                    }
                };

                // 图片上传处理
                const handleImageUpload = (event) => {
                    const file = event.target.files[0];
                    if (file) {
                        // 验证文件类型
                        if (!file.type.startsWith('image/')) {
                            alert('请上传图片文件');
                            return;
                        }
                        // 验证文件大小 (最大 5MB)
                        if (file.size > 5 * 1024 * 1024) {
                            alert('图片大小不能超过 5MB');
                            return;
                        }
                        // 切换到搜索结果状态
                        searchState.value = 'results';
                        // 模拟 AI 图片搜索
                        console.log('上传图片:', file.name);
                        // TODO: 这里可以添加实际的 AI 图片识别逻辑
                        alert(`AI 正在分析图片：${file.name}\n\n功能开发中，敬请期待...`);
                    }
                };

                // 执行搜索
                const performSearch = () => {
                    if (searchQuery.value.trim()) {
                        // 保存搜索查询
                        lastSearchQuery.value = searchQuery.value;

                        // 添加到搜索历史
                        searchHistory.value.unshift({
                            query: searchQuery.value,
                            timestamp: new Date()
                        });

                        // 启动对话流程（保留 AI 交互）
                        startConversation(searchQuery.value);
                    }
                };

                // 清除搜索结果（回到推荐状态）
                const clearSearchResults = () => {
                    hasSearched.value = false;
                    lastSearchQuery.value = '';
                    searchQuery.value = '';
                    // 清空对话状态
                    conversationState.messages = [];
                    conversationState.typingTexts = {};
                };

                // 清除搜索
                const clearSearch = () => {
                    searchQuery.value = '';
                    searchState.value = 'initial';
                    // 重置筛选条件
                    activeFilters.value = {
                        minSales: null,
                        priceRange: null,
                        minRating: null,
                        platforms: ['amazon', 'ebay', 'aliexpress', 'tiktok']
                    };
                    // 重置搜索结果状态
                    hasSearched.value = false;
                    lastSearchQuery.value = '';
                    // 重置对话状态
                    conversationState.messages = [];
                    conversationState.typingTexts = {};
                    conversationState.tempFilters = {
                        minSales: null,
                        priceRange: null,
                        minRating: null,
                        platforms: ['amazon', 'ebay', 'aliexpress', 'tiktok']
                    };
                };

                // ========== 对话相关函数 ==========

                // 添加消息到历史
                const addMessage = (msgData) => {
                    const message = {
                        id: Date.now() + Math.random(),
                        timestamp: Date.now(),
                        ...msgData
                    };
                    conversationState.messages.push(message);
                    // 触发打字效果
                    if (message.isTyping && message.content) {
                        simulateTyping(message);
                    }
                };

                // 模拟打字效果（30ms/字符）
                const simulateTyping = (message) => {
                    const fullText = message.content;
                    let currentText = '';
                    let index = 0;
                    const interval = setInterval(() => {
                        if (index < fullText.length) {
                            currentText += fullText[index];
                            conversationState.typingTexts[message.id] = currentText;
                            index++;
                        } else {
                            clearInterval(interval);
                            // 通过查找数组中的消息并更新来触发响应式
                            const msgIndex = conversationState.messages.findIndex(m => m.id === message.id);
                            if (msgIndex !== -1) {
                                conversationState.messages[msgIndex].isTyping = false;
                            }
                        }
                    }, 30);
                };

                // 判断是否为 AI 消息
                const isAIMessage = (type) => {
                    return [MessageType.AI_WELCOME, MessageType.AI_FILTER_FORM, MessageType.AI_CONFIRMATION].includes(type);
                };

                // 判断是否为用户消息
                const isUserMessage = (type) => {
                    return type === MessageType.USER_CHOICE;
                };

                // 获取打字文本
                const getTypingText = (message) => {
                    return conversationState.typingTexts[message.id] || '';
                };

                // 格式化文本（处理换行）
                const formatText = (text) => {
                    return text.replace(/\n/g, '<br>');
                };

                // ========== 对话相关函数 ==========

                // 启动对话并显示筛选表单
                const startConversation = (query) => {
                    // 初始化状态
                    conversationState.userQuery = query;
                    conversationState.messages = [];
                    conversationState.typingTexts = {};

                    // 重置临时筛选（平台默认全选）
                    conversationState.tempFilters = {
                        minSales: null,
                        priceRange: null,
                        minRating: null,
                        platforms: ['amazon', 'ebay', 'aliexpress', 'tiktok']
                    };

                    searchState.value = 'conversation';

                    // 添加欢迎消息
                    addMessage({
                        type: MessageType.AI_WELCOME,
                        content: locale.value === 'zh'
                            ? `收到！让我帮你找"${query}"相关产品 🤖`
                            : `Got it! Let me find "${query}" related products 🤖`,
                        isTyping: true
                    });

                    // 1秒后显示筛选表单
                    setTimeout(() => {
                        showFilterForm();
                    }, 1000);
                };

                // 显示筛选表单
                const showFilterForm = () => {
                    addMessage({
                        type: MessageType.AI_FILTER_FORM,
                        content: locale.value === 'zh'
                            ? '请设置你的筛选条件：'
                            : 'Please set your filter criteria:',
                        isTyping: true
                    });
                };

                // 切换单选条件
                const toggleSingleFilter = (category, value) => {
                    if (conversationState.tempFilters[category] === value) {
                        // 取消选择
                        conversationState.tempFilters[category] = null;
                    } else {
                        // 选择新值
                        conversationState.tempFilters[category] = value;
                    }
                };

                // 切换平台多选
                const togglePlatformForFilter = (platformId) => {
                    const platforms = conversationState.tempFilters.platforms;
                    const index = platforms.indexOf(platformId);

                    if (index > -1) {
                        // 已选中，取消选择
                        platforms.splice(index, 1);
                    } else {
                        // 未选中，添加选择
                        platforms.push(platformId);
                    }
                };

                // 提交筛选并搜索
                const submitFilters = () => {
                    // 验证至少选择一个平台
                    if (conversationState.tempFilters.platforms.length === 0) {
                        // 如果没有选择平台，默认全选
                        conversationState.tempFilters.platforms = ['amazon', 'ebay', 'aliexpress', 'tiktok'];
                    }

                    // 应用临时筛选到正式筛选
                    activeFilters.value = {
                        minSales: conversationState.tempFilters.minSales,
                        priceRange: conversationState.tempFilters.priceRange,
                        minRating: conversationState.tempFilters.minRating,
                        platforms: [...conversationState.tempFilters.platforms]
                    };

                    // 显示确认消息
                    addMessage({
                        type: MessageType.AI_CONFIRMATION,
                        content: locale.value === 'zh'
                            ? '✅ 筛选条件已确认'
                            : '✅ Filter criteria confirmed',
                        isTyping: true
                    });

                    // 启动 AI 思考状态
                    isThinking.value = true;
                    thinkingProgress.value = 0;

                    // 重置思考步骤
                    thinkingSteps.value.forEach(step => step.status = 'pending');

                    // 模拟 AI 思考过程
                    setTimeout(() => {
                        thinkingSteps.value[0].status = 'completed';
                        thinkingProgress.value = 33;
                    }, 500);

                    setTimeout(() => {
                        thinkingSteps.value[1].status = 'completed';
                        thinkingProgress.value = 66;
                    }, 1200);

                    setTimeout(() => {
                        thinkingSteps.value[2].status = 'completed';
                        thinkingProgress.value = 100;
                    }, 2000);

                    // 2.5秒后显示搜索结果（回到初始状态，在推荐位置展示）
                    setTimeout(() => {
                        isThinking.value = false;
                        hasSearched.value = true;
                        searchState.value = 'initial';
                        // 清空对话状态，准备下次搜索
                        conversationState.messages = [];
                        conversationState.typingTexts = {};
                        // 添加第一个搜索结果到最近选品
                        if (searchResults.value.length > 0) {
                            const firstResult = searchResults.value[0];
                            const newSelection = {
                                id: Date.now(),
                                title: firstResult.title,
                                price: firstResult.price,
                                sales: firstResult.sales,
                                rating: firstResult.rating,
                                reviews: firstResult.reviews,
                                image: firstResult.image,
                                timestamp: locale.value === 'zh' ? '刚刚' : 'Just now'
                            };
                            // 检查是否已存在
                            const exists = recentSelections.value.some(s => s.title === newSelection.title);
                            if (!exists) {
                                recentSelections.value.unshift(newSelection);
                                // 只保留最近 8 个
                                if (recentSelections.value.length > 8) {
                                    recentSelections.value = recentSelections.value.slice(0, 8);
                                }
                            }
                        }
                    }, 2500);
                };

                return {
                    currentPage,
                    searchQuery,
                    showAdvanced,
                    sortBy,
                    locale,
                    sidebarCollapsed,
                    sidebarMobileOpen,
                    isLoggedIn,
                    currentUser,
                    showProductModal,
                    selectedProduct,
                    priceTrendData,
                    loginTab,
                    isSubmitting,
                    platforms,
                    selectedPlatformCount,
                    isDarkMode,
                    toggleDarkMode,
                    t,
                    setLocale,
                    toggleSidebar,
                    resetFilters: () => {
                        searchQuery.value = '';
                        showAdvanced.value = false;
                    },
                    openProductModal,
                    handleImageUpload,
                    handleTextInput,
                    handleKeydown,
                    togglePlatform,
                    selectAllPlatforms,
                    clearAllPlatforms,
                    getPlatformBadgeClass,
                    getPlatformName,
                    formatSales,
                    handleLogin,
                    handleRegister,
                    handleLogout,
                    showLoginTab,
                    showRegisterTab,
                    toggleLocale,
                    isLoading,
                    simulateLoading,
                    aiProducts,
                    searchResults,
                    favorites,
                    recentSelections,
                    trends,
                    chartData,
                    categories,
                    quickFilters,
                    // 新增的搜索页面状态和方法
                    searchState,
                    searchHistory,
                    showWelcomeMessage,
                    activeFilters,
                    quickPrompts,
                    performSearch,
                    clearSearch,
                    clearSearchResults,
                    hasSearched,
                    lastSearchQuery,
                    showAllResults,
                    displayProducts,
                    // 对话相关
                    conversationState,
                    startConversation,
                    showFilterForm,
                    toggleSingleFilter,
                    togglePlatformForFilter,
                    submitFilters,
                    isAIMessage,
                    isUserMessage,
                    getTypingText,
                    formatText,
                    FILTER_CATEGORIES,
                    tempFilters: Vue.computed(() => conversationState.tempFilters),
                    // Chat input state and computed properties
                    chatInput,
                    textareaHeight,
                    isInputFocused,
                    hasContent,
                    showHint,
                    placeholderText,
                    // AI 思考状态
                    isThinking,
                    thinkingProgress,
                    thinkingSteps
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
